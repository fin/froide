!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.makerequest=t():(e.Froide=e.Froide||{},e.Froide.components=e.Froide.components||{},e.Froide.components.makerequest=t())}(window,function(){return function(e){function t(t){for(var n,a,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)a=o[d],s[a]&&f.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);f.length;)f.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},s={4:0},r=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.e=function(){return Promise.resolve()},a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;return r.push([58,0]),i()}([function(e,t,i){"use strict";i.d(t,"g",function(){return n}),i.d(t,"l",function(){return s}),i.d(t,"o",function(){return r}),i.d(t,"n",function(){return a}),i.d(t,"m",function(){return o}),i.d(t,"i",function(){return c}),i.d(t,"j",function(){return l}),i.d(t,"a",function(){return u}),i.d(t,"f",function(){return d}),i.d(t,"d",function(){return f}),i.d(t,"h",function(){return h}),i.d(t,"c",function(){return p}),i.d(t,"b",function(){return b}),i.d(t,"x",function(){return v}),i.d(t,"k",function(){return m}),i.d(t,"e",function(){return g}),i.d(t,"z",function(){return y}),i.d(t,"s",function(){return _}),i.d(t,"v",function(){return w}),i.d(t,"p",function(){return S}),i.d(t,"u",function(){return P}),i.d(t,"w",function(){return C}),i.d(t,"t",function(){return B}),i.d(t,"r",function(){return j}),i.d(t,"y",function(){return x}),i.d(t,"A",function(){return R}),i.d(t,"q",function(){return O});var n="SET_CONFIG",s="SET_STEP",r="SET_STEP_SELECT_PUBLICBODY",a="SET_STEP_REVIEW_PUBLICBODY",o="SET_STEP_REQUEST",c="SET_PUBLICBODY",l="SET_PUBLICBODY_ID",u="ADD_PUBLICBODY_ID",d="REMOVE_PUBLICBODY_ID",f="CLEAR_PUBLICBODIES",h="SET_PUBLICBODIES",p="CACHE_PUBLICBODIES",b="CACHE_LAWS",v="UPDATE_LAW_TYPE",m="SET_SEARCHRESULTS",g="CLEAR_SEARCHRESULTS",y="UPDATE_SUBJECT",_="UPDATE_BODY",w="UPDATE_FULL_TEXT",S="SET_USER",P="UPDATE_FIRST_NAME",C="UPDATE_LAST_NAME",B="UPDATE_EMAIL",j="UPDATE_ADDRESS",x="UPDATE_PRIVATE",R="UPDATE_USER_ID",O={SELECT_PUBLICBODY:1,REVIEW_PUBLICBODY:2,WRITE_REQUEST:3}},,,,function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=new RegExp(/\$\{(\w+)\}/g),r=document.querySelector("html").lang,a={computed:{i18n:function(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),s.forEach(function(t){n(e,t,i[t])})}return e}({_replacer:function(e){return function(t,i,n,s){return"count"===i&&e.count>=1e3?e.count.toLocaleString(r):e[i]}},_:function(e,t){var i=this[e];return Array.isArray(i)?void 0!==t.count&&(t.count>1||0===t.count)?i[1].replace(s,this._replacer(t)):i[0].replace(s,this._replacer(t)):i.replace(s,this._replacer(t))}},this.config.i18n)}}};t.a=a},function(e,t,i){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.d(t,"a",function(){return a}),i.d(t,"e",function(){return o}),i.d(t,"d",function(){return c}),i.d(t,"c",function(){return l}),i.d(t,"b",function(){return u});var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}return function(e,t,i){t&&r(e.prototype,t),i&&r(e,i)}(e,[{key:"getJson",value:function(e){return new Promise(function(t,i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){if(n.status>=400)try{return i(JSON.parse(n.responseText))}catch(e){return i(n.responseText)}t(JSON.parse(n.responseText))},n.onerror=function(){i(n.statusText)},n.send()})}},{key:"getObjects",value:function(e){return new Promise(function(t,i){e.then(function(e){return t(e.objects)}).catch(function(e){return i(e)})})}},{key:"getJsonObjects",value:function(e){var t=this;return new Promise(function(i,n){t.getJson(e).then(function(e){return i(e.objects)}).catch(function(e){return n(e)})})}},{key:"getPublicBody",value:function(e){var t=this.config.url.getPublicBody.replace(/\/0\//,"/".concat(e,"/"));return this.getJson(t)}},{key:"autocompletePublicBody",value:function(e){var t=encodeURIComponent(e),i=this.config.url.autocompletePublicBody+"?query="+t;return this.getJsonObjects(i)}},{key:"getUser",value:function(){return this.getJson(this.config.url.user)}},{key:"getJsonForUrl",value:function(e,t,i){var n=!1;return void 0!==t&&t&&(n=!0,e=e+"?q="+encodeURIComponent(t)),void 0!==i&&function(){var t=[],s=function(e){var n=i[e];null!==n&&(Array.isArray(n)||(n=[n]),n.forEach(function(i){t.push(e+"="+encodeURIComponent(i))}))};for(var r in i)s(r);e+=n?"&":"?",e+=t.join("&")}(),this.getJson(e)}},{key:"searchPublicBodies",value:function(e,t){return this.getJsonForUrl(this.config.url.searchPublicBody,e,t)}},{key:"listPublicBodies",value:function(e,t){return this.getJsonForUrl(this.config.url.listPublicBodies,e,t)}},{key:"getLawsForPublicBodies",value:function(e,t){t=t||{};var i={},n=[];return e.forEach(function(e){e.laws.forEach(function(e){if("string"==typeof e){if(void 0!==t[e])return;var s=e.split("/"),r=s[s.length-2];void 0===i[r]&&(i[r]=!0,n.push(r))}})}),0===n.length?Promise.resolve([]):this.getJsonForUrl(this.config.url.listLaws,null,{id:n.join(",")}).then(function(e){return e.objects})}},{key:"listJurisdictions",value:function(e,t){return this.getJsonForUrl(this.config.url.listJurisdictions,e,t)}},{key:"listCategories",value:function(e,t){return this.getJsonForUrl(this.config.url.listCategories,e,t)}},{key:"listClassifications",value:function(e,t){return this.getJsonForUrl(this.config.url.listClassifications,e,t)}},{key:"listGeoregions",value:function(e,t){return this.getJsonForUrl(this.config.url.listGeoregions,e,t)}},{key:"searchFoiRequests",value:function(e){var t=encodeURIComponent(e),i=this.config.url.searchRequests+"?q="+t;return this.getJsonObjects(i)}}]),e}();function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return window.fetch(e,{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRFToken":i},body:JSON.stringify(t)}).then(function(e){return e.json()})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t||{},window.fetch(e,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){s(e,t,i[t])})}return e}({Accept:"application/json","X-Requested-With":"XMLHttpRequest"},t)}).then(function(e){return e.json()})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(function(r,a){c(e,t).then(function(e){i=Array.isArray(e.objects)?[].concat(n(i),n(e.objects)):[].concat(n(i),n(e.objects.results)),e.meta.next?(s&&s(i),l(e.meta.next,t,i).then(r).catch(a)):r(i)})})}function u(e){return window.fetch(e,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{pragma:"no-cache","cache-control":"no-cache"}})}},function(e,t,i){"use strict";var n=i(3),s=i(0);function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){a(e,t,i[t])})}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o={computed:r({publicBody:function(){return this.getPublicBodyByScope(this.scope)},publicBodies:function(){return this.getPublicBodiesByScope(this.scope)},hasPublicBodies:function(){return this.publicBodies.length>0},searchResults:function(){return this.getScopedSearchResults(this.scope)},hasSearchResults:function(){return this.searchResults.length>0},hasNextSearchResults:function(){var e=this.getScopedSearchMeta(this.scope);return!!e&&e.next},hasPreviousSearchResults:function(){var e=this.getScopedSearchMeta(this.scope);return!!e&&e.previous},currentResultPage:function(){var e=this.getScopedSearchMeta(this.scope);return e?e.offset/e.limit+1:0},maxResultPage:function(){var e=this.getScopedSearchMeta(this.scope);return e?Math.ceil(e.total_count/e.limit):0},currentResultsLength:function(){var e=this.searchResults;return e?e.length:null},searchResultsLength:function(){var e=this.getScopedSearchMeta(this.scope);return e?e.total_count:0},emptyResults:function(){var e=this.searchResultsLength;return null!==e&&0===e}},Object(n.c)(["getPublicBody","getPublicBodyByScope","getPublicBodiesByScope","getScopedSearchResults","getScopedSearchMeta"])),methods:r({getNext:function(e){this.getNextSearchResults(this.scope)},getPrevious:function(e){this.getPreviousSearchResults(this.scope)}},Object(n.d)({setPublicBody:s.i,clearSearchResults:s.e}),Object(n.b)(["getNextSearchResults","getPreviousSearchResults"]))};t.a=o},function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}function r(e,t){return function(){return t(e.tag,{domProps:{innerHTML:e.innerHTML}})}}function a(e,t){"string"==typeof e&&(e=document.querySelector(e));var i=function(e){for(var t=e.attributes,i={},n=0;n<t.length;n+=1){var r=t[n];if(("v"!==r.name[0]||"-"!==r.name[1])&&"id"!==r.name&&"class"!==r.name){var a=r.value,o=r.name;":"===r.name[0]&&(o=r.name.substring(1),"{"!==r.value[0]&&"["!==r.value[0]||(a=JSON.parse(r.value)),"true"===r.value&&(a=!0)),i[s(o)]=a}}return i}(e),a=function(e){for(var t=e.querySelectorAll("[slot]"),i={},n=0;n<t.length;n+=1){var s=t[n];i[s.attributes.slot.value]={tag:s.tagName.toLowerCase(),innerHTML:s.innerHTML}}return i}(e),o=function(e){var t={};if(e.id&&(t.attrs={id:e.id}),e.className){var i=e.className.split(" ");t.class={},i.forEach(function(e){t.class[e.trim()]=!0})}return t}(e);return function(e){var s=function(e,t){var i={};for(var n in e)i[n]=r(e[n],t);return i}(a,e);return e(t,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),s.forEach(function(t){n(e,t,i[t])})}return e}({props:i,scopedSlots:s},o))}}i.d(t,"a",function(){return a})},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";var n=i(13),s=i.n(n),r=i(3),a=i(0);function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){c(e,t,i[t])})}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l={created:function(){if(this.hasForm&&this.field.value){var e=this.field.objects;e&&(this.cachePublicBodies(e),this.setPublicBodies({publicBodies:e,scope:this.scope}))}},computed:o({help_url:function(){return this.config.url.helpAbout},headers:function(){return[{key:"name",label:this.i18n.name,sortKey:function(e){return e.name}},{key:"jurisdiction",label:this.i18n.jurisdictionPlural[0],sortKey:function(e){return e.jurisdiction.name}},{key:"classification",label:this.i18n.classificationPlural[0],sortKey:function(e){return e.classification&&e.classification.name}},{key:"categories",label:this.i18n.topicPlural[1],sortKey:function(e){return e.categories[0]&&e.categories[0].name}}]},hasForm:function(){return void 0!==this.form&&null!==this.form&&""!==this.form},formFields:function(){return this.form.fields},field:function(){return this.formFields[this.name]},errors:function(){return this.form.errors},hasPublicBodies:function(){return this.publicBodies.length>0},debouncedAutocomplete:function(){return s()(this.runAutocomplete,300)},hasFilters:function(){return!!this.filters&&Object.keys(this.filters).length>0},searchFilters:function(){var e={};if(!this.hasFilters)return e;for(var t in this.filters)null!==this.filters[t]&&0!==this.filters[t].length&&(Array.isArray(this.filters[t])?e[t]=this.filters[t].map(function(e){return e.id}):e[t]=this.filters[t].id);return e},hasSearchResults:function(){return this.searchResults.length>0},searchResults:function(){return this.getScopedSearchResults(this.scope)},searchMeta:function(){return this.getScopedSearchMeta(this.scope)}},Object(r.c)(["getPublicBodyByScope","getScopedSearchResults","getScopedSearchMeta"])),methods:o({buildQuery:function(){var e=this.search;return this.hasFilters&&(e+=JSON.stringify(this.filters)),e},selectAllRows:function(e){var t=this;this.searchResults.forEach(function(i){e?t.addPublicBodyId({publicBodyId:i.id,scope:t.scope}):t.removePublicBodyId({publicBodyId:i.id,scope:t.scope})})},clearSelection:function(){window.confirm(this.i18n.reallyClearSelection)&&(this.clearPublicBodies({scope:this.scope}),this.setStepSelectPublicBody())},triggerAutocomplete:function(){(""!==this.search||this.hasFilters||(this.searching=!1),!this.allowEmptySearch&&void 0!==this.search&&this.search.length<3&&!this.hasFilters)?this.searching=!1:this.buildQuery()!==this.lastQuery||0===this.searchResults.length?(this.searching=!0,this.debouncedAutocomplete()):this.searching=!1},runAutocomplete:function(){var e=this;return this.searching=!0,this.lastQuery=this.buildQuery(),this.getSearchResults({scope:this.scope,search:this.search,filters:this.searchFilters}).then(function(){e.searching=!1})},clearResults:function(){this.clearSearchResults({scope:this.scope})}},Object(r.d)({setPublicBody:a.i,setPublicBodies:a.h,setSearchResults:a.k,cachePublicBodies:a.c,clearPublicBodies:a.d,clearSearchResults:a.e,addPublicBodyId:a.a,setStepSelectPublicBody:a.o,removePublicBodyId:a.f}),Object(r.b)(["getSearchResults"]))};t.a=l},,,function(e,t,i){"use strict";var n=i(3),s=i(6),r=i(4),a={name:"pb-result-list",props:["name","scope","config"],mixins:[s.a,r.a],computed:{value:{get:function(){if(this.publicBody)return this.publicBody.id},set:function(e){this.setPublicBody({publicBody:this.getPublicBody(e),scope:this.scope}),this.clearSearchResults({scope:this.scope})}}},methods:{selectSearchResult:function(e){this.value=e.target.value}}},o=(i(35),i(2)),c=Object(o.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.publicBody&&!e.hasSearchResults?i("div",{staticClass:"search-result"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"radio","data-label":e.publicBody.name,name:e.name},domProps:{value:e.publicBody.id,checked:e._q(e.value,e.publicBody.id)},on:{change:function(t){e.value=e.publicBody.id}}}),e._v("\n      "+e._s(e.publicBody.name)+"\n      "),i("small",[e._v("\n        "+e._s(e.publicBody.jurisdiction.name)+"\n      ")])])]):e._e(),e._v(" "),e.searchResults.length>0||e.emptyResults?i("ul",{staticClass:"search-results list-unstyled"},e._l(e.searchResults,function(t){return i("li",{key:t.id,staticClass:"search-result"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"radio","data-label":t.name,name:e.name},domProps:{value:t.id,checked:e._q(e.value,t.id)},on:{change:[function(i){e.value=t.id},e.selectSearchResult],click:e.selectSearchResult}}),e._v("\n        "+e._s(t.name)+"\n        "),i("small",[e._v("\n          "+e._s(t.jurisdiction.name)+"\n        ")])])])}),0):e._e()])},[],!1,null,"6c190725",null).exports,l=i(0);function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d={name:"pb-action-list",mixins:[s.a,r.a],props:["name","scope","config"],methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){u(e,t,i[t])})}return e}({selectSearchResult:function(e){this.setPublicBodyId({publicBodyId:e,scope:this.scope}),this.setStepRequest()},getMakeRequestURLForResult:function(e){return this.config.url.makeRequestTo.replace(/0/,e.id)}},Object(n.d)({setStepRequest:l.m,setPublicBodyId:l.j}))},f=(i(36),Object(o.a)(d,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"search-result-container"},[e.searchResultsLength>0||e.emptyResults?i("ul",{staticClass:"search-results list-unstyled"},e._l(e.searchResults,function(t){return i("li",{key:t.id,staticClass:"search-result",on:{click:function(i){return i.preventDefault(),e.selectSearchResult(t.id)}}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-8"},[i("h4",{staticClass:"pb-heading"},[e._v("\n            "+e._s(t.name)+"\n          ")]),e._v(" "),i("small",[e._v("\n            "+e._s(t.jurisdiction.name)+",\n            "+e._s(e.i18n._("requestCount",{count:t.number_of_requests}))+"\n          ")])]),e._v(" "),i("div",{staticClass:"col-sm-4"},[i("a",{staticClass:"btn btn-primary",attrs:{href:e.getMakeRequestURLForResult(t)},on:{click:function(i){return i.preventDefault(),e.selectSearchResult(t.id)}}},[e._v("\n            "+e._s(e.i18n.makeRequest)+"\n          ")])])])])}),0):e._e(),e._v(" "),e.hasSearchResults&&e.maxResultPage>1?i("ul",{staticClass:"pagination"},[e.hasPreviousSearchResults?i("li",{staticClass:"page-item"},[i("a",{staticClass:"page-link prev",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.getPrevious(t)}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("«")]),e._v(" "),i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.previous))])])]):i("li",{staticClass:"page-item disabled"},[i("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("«")]),e._v(" "),i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.previous))])])]),e._v(" "),i("li",{staticClass:"page-item disabled"},[i("span",{staticClass:"page-link"},[e._v("\n        "+e._s(e.currentResultPage)+" / "+e._s(e.maxResultPage)+"\n      ")])]),e._v(" "),e.hasNextSearchResults?i("li",{staticClass:"page-item"},[i("a",{staticClass:"page-link next",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.getNext(t)}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("»")]),e._v(" "),i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.next))])])]):i("li",{staticClass:"page-item disabled"},[i("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"}},[i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.next))]),e._v(" "),i("span",{attrs:{"aria-hidden":"true"}},[e._v("»")])])])]):e._e()])},[],!1,null,"3f4a526c",null).exports);function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){p(e,t,i[t])})}return e}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var b={name:"pb-multi-item",props:["name","result","scope"],computed:h({value:{get:function(){return this.isPublicBodySelectedByScope(this.scope,this.result.id)},set:function(e){e?this.addPublicBodyId({publicBodyId:this.result.id,scope:this.scope}):this.removePublicBodyId({publicBodyId:this.result.id,scope:this.scope})}}},Object(n.c)(["isPublicBodySelectedByScope"])),methods:h({selectSearchResult:function(e){this.value=e.target.value}},Object(n.d)({addPublicBodyId:l.a,removePublicBodyId:l.f}))},v=Object(o.a)(b,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"checkbox","data-label":e.result.name,name:e.name},domProps:{value:e.result.id,checked:Array.isArray(e.value)?e._i(e.value,e.result.id)>-1:e.value},on:{change:function(t){var i=e.value,n=t.target,s=!!n.checked;if(Array.isArray(i)){var r=e.result.id,a=e._i(i,r);n.checked?a<0&&(e.value=i.concat([r])):a>-1&&(e.value=i.slice(0,a).concat(i.slice(a+1)))}else e.value=s}}}),e._v("\n  "+e._s(e.result.name)+"\n  "),i("small",[e._v("\n    "+e._s(e.result.jurisdiction.name)+"\n  ")])])},[],!1,null,null,null).exports;function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var g={name:"pb-multi-list",props:["name","scope","config"],mixins:[s.a,r.a],methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){m(e,t,i[t])})}return e}({selectAll:function(){var e=this;this.searchResults.forEach(function(t){e.addPublicBodyId({publicBodyId:t.id,scope:e.scope})})}},Object(n.d)({setStepRequest:l.m,addPublicBodyId:l.a})),components:{PbMultiItem:v}},y=(i(37),Object(o.a)(g,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.searchResults.length>0||e.emptyResults?i("div",[i("div",[i("a",{directives:[{name:"show",rawName:"v-show",value:e.hasPublicBodies,expression:"hasPublicBodies"}],staticClass:"btn btn-primary",attrs:{href:"#step-request"},on:{click:e.setStepRequest}},[e._v("\n        Continue\n      ")]),e._v(" "),e.hasSearchResults?i("a",{staticClass:"btn btn-light pull-right",attrs:{href:"#"},on:{click:e.selectAll}},[e._v("\n        Select all\n      ")]):e._e()]),e._v(" "),i("ul",{staticClass:"search-results list-unstyled"},e._l(e.searchResults,function(t){return i("li",{key:t.id,staticClass:"search-result"},[i("pb-multi-item",{attrs:{name:e.name,result:t,scope:e.scope}})],1)}),0),e._v(" "),e.hasPublicBodies?i("p",[i("a",{staticClass:"btn btn-primary",attrs:{href:"#step-request"},on:{click:e.setStepRequest}},[e._v("\n        Continue\n      ")])]):e._e()]):e._e()])},[],!1,null,"481e67b6",null).exports);function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var w={name:"publicbody-chooser",mixins:[i(11).a,r.a],props:["name","scope","defaultsearch","form","config","listView"],data:function(){return{search:this.defaultsearch,lastQuery:null,emptyResults:!1,searching:!1}},created:function(){this.setConfig(this.config)},mounted:function(){this.defaultsearch&&null===this.searchMeta&&this.triggerAutocomplete()},components:{resultList:c,actionList:f,multi:y},computed:{getListView:function(){return this.listView?this.listView:"resultList"},label:function(){if(this.publicBody)return this.publicBody.name},publicBody:function(){return this.getPublicBodyByScope(this.scope)}},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){_(e,t,i[t])})}return e}({},Object(n.d)({setConfig:l.g}))},S=Object(o.a)(w,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"publicbody-chooser mb-3"},[i("div",{staticClass:"form-search"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"search-public_bodies form-control",attrs:{type:"search",placeholder:e.i18n.publicBodySearchPlaceholder},domProps:{value:e.search},on:{keyup:e.triggerAutocomplete,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.triggerAutocomplete(t))},input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-primary search-public_bodies-submit",attrs:{type:"button"},on:{click:e.triggerAutocomplete}},[i("i",{staticClass:"fa fa-search"}),e._v("\n          "+e._s(e.i18n.search)+"\n        ")])])])]),e._v(" "),e.searching?i("div",{staticClass:"search-spinner"},[e._m(0)]):e._e(),e._v(" "),i(e.getListView,{tag:"component",attrs:{name:e.name,scope:e.scope,config:e.config}})],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"spinner-border",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[this._v("Loading...")])])}],!1,null,null,null);t.a=S.exports},function(e,t,i){"use strict";var n=i(1),s=i(3),r=i(0),a=i(5);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c,l=function(e,t){return e.meta&&!t.meta?-1:t.meta&&!e.meta?1:e.priority<t.priority},u=function(e,t){if(0===e.length)return null;var i=e.filter(function(e){return!t||-1!==e.law_type.indexOf(t)});return 0===i.length&&(i=o(e)),(i=i.sort(l))[0]};function d(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}n.a.use(s.a);t.a=new s.a.Store({state:{config:null,scopedSearchResults:{},scopedSearchFacets:{},scopedSearchMeta:{},scopedPublicBodies:{},scopedPublicBodiesMap:{},lawCache:{},publicBodies:{},lawType:null,user:{},step:r.q.SELECT_PUBLICBODY,subject:"",body:"",fullText:!1},getters:{getPublicBodyByScope:function(e,t){return function(e){var i=t.getPublicBodiesByScope(e);return 0===i.length?null:i[0]}},getPublicBodiesByScope:function(e,t){return function(t){var i=e.scopedPublicBodies[t];return void 0===i?[]:i}},isPublicBodySelectedByScope:function(e){return function(t,i){var n=e.scopedPublicBodiesMap[t];return void 0!==n&&void 0!==n[i]}},getPublicBody:function(e){return function(t){return e.publicBodies[t]}},getScopedSearchResults:function(e,t){return function(t){var i=e.scopedSearchResults[t];return void 0===i?[]:i}},getScopedSearchFacets:function(e){return function(t){var i=e.scopedSearchFacets[t];return void 0===i?null:i}},getScopedSearchMeta:function(e){return function(t){var i=e.scopedSearchMeta[t];return void 0===i?null:i}},getLawsForPublicBody:function(e){return function(t){return t.laws.map(function(t){return e.lawCache[t]}).filter(function(e){return void 0!==e})}},defaultLaw:function(e,t){var i=null;for(i in e.scopedPublicBodies);for(var n=e.scopedPublicBodies[i],s=null,r=!0,a=0;a<n.length;a+=1){var o=n[a],c=t.getLawsForPublicBody(o),l=u(c,e.lawType);if(null!==l)if(0!==a){if(s.id!==l.id){r=!1;break}s=l}else s=l}return r?s:null},user:function(e){return e.user},subject:function(e){return e.subject},getSubject:function(e){return function(){return e.subject}},body:function(e){return e.body},fullText:function(e){return e.fullText},stepSelectPublicBody:function(e){return e.step===r.q.SELECT_PUBLICBODY},stepSelectPublicBodyDone:function(e){return e.step>r.q.SELECT_PUBLICBODY},stepReviewPublicBodies:function(e){return e.step===r.q.REVIEW_PUBLICBODY},stepReviewPublicBodiesDone:function(e){return e.step>r.q.REVIEW_PUBLICBODY},stepWriteRequest:function(e){return e.step===r.q.WRITE_REQUEST},stepWriteRequestDone:function(e){return e.step>r.q.WRITE_REQUEST},step:function(e){return e.step},lawType:function(e){return e.lawType}},mutations:(c={},f(c,r.g,function(e,t){null!==e.config&&void 0!==e.config||(e.config=t)}),f(c,r.l,function(e,t){e.step=t}),f(c,r.o,function(e){e.step=r.q.SELECT_PUBLICBODY}),f(c,r.n,function(e){e.step=r.q.REVIEW_PUBLICBODY}),f(c,r.m,function(e){e.step=r.q.WRITE_REQUEST}),f(c,r.i,function(e,t){var i=t.publicBody,s=t.scope;n.a.set(e.scopedPublicBodies,s,[i]),n.a.set(e.scopedPublicBodiesMap,s,f({},i.id,!0)),e.scopedSearchResults[s].forEach(function(e){e.id===i.id?e.isSelected=!0:e.isSelected=!1})}),f(c,r.h,function(e,t){var i=t.publicBodies,s=t.scope;n.a.set(e.scopedPublicBodies,s,i);var r={};i.forEach(function(e){r[e.id]=!0}),n.a.set(e.scopedPublicBodiesMap,s,r),e.scopedSearchResults[s]&&e.scopedSearchResults[s].forEach(function(e){void 0!==r[e.id]?e.isSelected=!0:e.isSelected=!1})}),f(c,r.j,function(e,t){var i=t.publicBodyId,s=t.scope,r=e.publicBodies[i];n.a.set(e.scopedPublicBodies,s,[r]),n.a.set(e.scopedPublicBodiesMap,s,{publicBodyId:!0}),e.scopedSearchResults[s]&&e.scopedSearchResults[s].forEach(function(e){e.id===i?e.isSelected=!0:e.isSelected=!1})}),f(c,r.a,function(e,t){var i=t.publicBodyId,s=t.scope,r=e.publicBodies[i];if(void 0!==r){var a=e.scopedPublicBodies[s];if(void 0===a)n.a.set(e.scopedPublicBodies,s,[r]);else a.some(function(e){return e.id===r.id})||n.a.set(e.scopedPublicBodies,s,[].concat(d(a),[r]));n.a.set(e.scopedPublicBodiesMap[s],i,!0),e.scopedSearchResults[s]&&e.scopedSearchResults[s].forEach(function(e){e.id===i&&(e.isSelected=!0)})}}),f(c,r.f,function(e,t){var i=t.publicBodyId,s=t.scope,r=e.scopedPublicBodies[s];void 0!==r&&(r=r.filter(function(e){return e.id!==i}),n.a.set(e.scopedPublicBodies,s,r),n.a.set(e.scopedPublicBodiesMap[s],i,void 0),e.scopedSearchResults[s]&&e.scopedSearchResults[s].forEach(function(e){e.id===i&&(e.isSelected=!1)}))}),f(c,r.d,function(e,t){var i=t.scope;n.a.set(e.scopedPublicBodies,i,[]),n.a.set(e.scopedPublicBodiesMap,i,{}),e.scopedSearchResults[i]&&e.scopedSearchResults[i].forEach(function(e){e.isSelected=!1})}),f(c,r.c,function(e,t){var i={};t&&(t.forEach(function(e){i[e.id]=e}),e.publicBodies=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){f(e,t,i[t])})}return e}({},e.publicBodies,i))}),f(c,r.k,function(e,t){var i=t.searchResults,s=t.searchFacets,r=t.searchMeta,a=t.scope;e.scopedPublicBodiesMap[a]=e.scopedPublicBodiesMap[a]||{},i=i.map(function(t){return t.isSelected=void 0!==e.scopedPublicBodiesMap[a][t.id],t}),n.a.set(e.scopedSearchResults,a,i),n.a.set(e.scopedSearchFacets,a,s),n.a.set(e.scopedSearchMeta,a,r)}),f(c,r.e,function(e,t){var i=t.scope;n.a.set(e.scopedSearchResults,i,[]),n.a.set(e.scopedSearchFacets,i,{}),n.a.set(e.scopedSearchMeta,i,null)}),f(c,r.v,function(e,t){e.fullText=t}),f(c,r.p,function(e,t){e.user=t}),f(c,r.z,function(e,t){e.subject=t}),f(c,r.s,function(e,t){e.body=t}),f(c,r.u,function(e,t){n.a.set(e.user,"first_name",t)}),f(c,r.w,function(e,t){n.a.set(e.user,"last_name",t)}),f(c,r.r,function(e,t){n.a.set(e.user,"address",t)}),f(c,r.t,function(e,t){n.a.set(e.user,"email",t)}),f(c,r.y,function(e,t){n.a.set(e.user,"private",t)}),f(c,r.A,function(e,t){n.a.set(e.user,"id",t)}),f(c,r.x,function(e,t){e.lawType=t}),f(c,r.b,function(e,t){t.laws.forEach(function(t){n.a.set(e.lawCache,t.resource_uri,t)})}),c),actions:{setSearchResults:function(e,t){var i=e.commit,n=(e.state,e.dispatch),s=t.scope,a=t.results;i(r.k,{searchResults:a.objects.results,searchFacets:a.objects.facets.fields,searchMeta:a.meta,scope:s}),i(r.c,a.objects.results),n("getLawsForPublicBodies",a.objects.results)},cacheLaws:function(e,t){var i=e.commit,n=t.laws;i(r.b,{laws:n})},getLawsForPublicBodies:function(e,t){var i=e.state,n=e.dispatch;new a.a(i.config).getLawsForPublicBodies(t,i.lawCache).then(function(e){n("cacheLaws",{laws:e})})},getSearchResults:function(e,t){var i=e.commit,n=e.state,s=e.dispatch,o=t.scope,c=t.search,l=t.filters;return i(r.e,{scope:o}),new a.a(n.config).searchPublicBodies(c,l).then(function(e){s("setSearchResults",{results:e,scope:o})})},setPublicBodyById:function(e,t){var i=e.state,n=e.dispatch,s=t.scope,r=t.id;return new a.a(i.config).getPublicBody(r).then(function(e){n("setPublicBodyByIdDone",{result:e,scope:s,id:r})})},setPublicBodyByIdDone:function(e,t){var i=e.commit,n=e.dispatch,s=t.scope,a=t.result,o=t.id;i(r.c,[a]),i(r.j,{publicBodyId:o,scope:s}),i(r.m),n("getLawsForPublicBodies",[a])},getSearchResultsUrl:function(e,t){var i=e.commit,n=e.state,s=(e.getters,e.dispatch),o=t.scope,c=t.url;return i(r.e,{scope:o}),new a.a(n.config).getJson(c).then(function(e){s("setSearchResults",{results:e,scope:o})})},getNextSearchResults:function(e,t){e.state;var i=e.getters;return(0,e.dispatch)("getSearchResultsUrl",{url:i.getScopedSearchMeta(t).next,scope:t})},getPreviousSearchResults:function(e,t){e.state;var i=e.getters;return(0,e.dispatch)("getSearchResultsUrl",{url:i.getScopedSearchMeta(t).previous,scope:t})}},strict:!1})},,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,,,,,,,function(e,t,i){"use strict";var n=i(8);i.n(n).a},function(e,t,i){"use strict";var n=i(9);i.n(n).a},function(e,t,i){"use strict";var n=i(10);i.n(n).a},,,,,,,,function(e,t,i){(function(e){var i=200,n="Expected a function",s="__lodash_hash_undefined__",r=1,a=2,o=1/0,c=9007199254740991,l="[object Arguments]",u="[object Array]",d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",b="[object GeneratorFunction]",v="[object Map]",m="[object Number]",g="[object Object]",y="[object RegExp]",_="[object Set]",w="[object String]",S="[object Symbol]",P="[object ArrayBuffer]",C="[object DataView]",B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j=/^\w*$/,x=/^\./,R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O=/\\(\\)?/g,k=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T[l]=T[u]=T[P]=T[d]=T[C]=T[f]=T[h]=T[p]=T[v]=T[m]=T[g]=T[y]=T[_]=T[w]=T["[object WeakMap]"]=!1;var A="object"==typeof window&&window&&window.Object===Object&&window,F="object"==typeof self&&self&&self.Object===Object&&self,q=A||F||Function("return this")(),L=t&&!t.nodeType&&t,D=L&&"object"==typeof e&&e&&!e.nodeType&&e,I=D&&D.exports===L&&A.process,N=function(){try{return I&&I.binding("util")}catch(e){}}(),M=N&&N.isTypedArray;function V(e,t){for(var i=-1,n=e?e.length:0,s=Array(n);++i<n;)s[i]=t(e[i],i,e);return s}function U(e,t){for(var i=-1,n=t.length,s=e.length;++i<n;)e[s+i]=t[i];return e}function $(e,t){for(var i=-1,n=e?e.length:0;++i<n;)if(t(e[i],i,e))return!0;return!1}function W(e){return function(t){return e(t)}}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function J(e){var t=-1,i=Array(e.size);return e.forEach(function(e,n){i[++t]=[n,e]}),i}function Y(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}var Q=Array.prototype,G=Function.prototype,z=Object.prototype,K=q["__core-js_shared__"],X=function(){var e=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Z=G.toString,ee=z.hasOwnProperty,te=z.toString,ie=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=q.Symbol,se=q.Uint8Array,re=z.propertyIsEnumerable,ae=Q.splice,oe=ne?ne.isConcatSpreadable:void 0,ce=function(e,t){return function(i){return e(t(i))}}(Object.keys,Object),le=Math.max,ue=We(q,"DataView"),de=We(q,"Map"),fe=We(q,"Promise"),he=We(q,"Set"),pe=We(q,"WeakMap"),be=We(Object,"create"),ve=et(ue),me=et(de),ge=et(fe),ye=et(he),_e=et(pe),we=ne?ne.prototype:void 0,Se=we?we.valueOf:void 0,Pe=we?we.toString:void 0;function Ce(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Be(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function je(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function xe(e){var t=-1,i=e?e.length:0;for(this.__data__=new je;++t<i;)this.add(e[t])}function Re(e){this.__data__=new Be(e)}function Oe(e,t){var i=rt(e)||st(e)?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],n=i.length,s=!!n;for(var r in e)!t&&!ee.call(e,r)||s&&("length"==r||Ye(r,n))||i.push(r);return i}function ke(e,t){for(var i=e.length;i--;)if(nt(e[i][0],t))return i;return-1}Ce.prototype.clear=function(){this.__data__=be?be(null):{}},Ce.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ce.prototype.get=function(e){var t=this.__data__;if(be){var i=t[e];return i===s?void 0:i}return ee.call(t,e)?t[e]:void 0},Ce.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:ee.call(t,e)},Ce.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?s:t,this},Be.prototype.clear=function(){this.__data__=[]},Be.prototype.delete=function(e){var t=this.__data__,i=ke(t,e);return!(i<0||(i==t.length-1?t.pop():ae.call(t,i,1),0))},Be.prototype.get=function(e){var t=this.__data__,i=ke(t,e);return i<0?void 0:t[i][1]},Be.prototype.has=function(e){return ke(this.__data__,e)>-1},Be.prototype.set=function(e,t){var i=this.__data__,n=ke(i,e);return n<0?i.push([e,t]):i[n][1]=t,this},je.prototype.clear=function(){this.__data__={hash:new Ce,map:new(de||Be),string:new Ce}},je.prototype.delete=function(e){return $e(this,e).delete(e)},je.prototype.get=function(e){return $e(this,e).get(e)},je.prototype.has=function(e){return $e(this,e).has(e)},je.prototype.set=function(e,t){return $e(this,e).set(e,t),this},xe.prototype.add=xe.prototype.push=function(e){return this.__data__.set(e,s),this},xe.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.clear=function(){this.__data__=new Be},Re.prototype.delete=function(e){return this.__data__.delete(e)},Re.prototype.get=function(e){return this.__data__.get(e)},Re.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Be){var s=n.__data__;if(!de||s.length<i-1)return s.push([e,t]),this;n=this.__data__=new je(s)}return n.set(e,t),this};var Ee=function(e,t){return function(i,n){if(null==i)return i;if(!at(i))return e(i,n);for(var s=i.length,r=t?s:-1,a=Object(i);(t?r--:++r<s)&&!1!==n(a[r],r,a););return i}}(function(e,t){return e&&Te(e,t,ht)});var Te=function(e){return function(t,i,n){for(var s=-1,r=Object(t),a=n(t),o=a.length;o--;){var c=a[e?o:++s];if(!1===i(r[c],c,r))break}return t}}();function Ae(e,t){for(var i=0,n=(t=Ge(t,e)?[t]:Me(t)).length;null!=e&&i<n;)e=e[Ze(t[i++])];return i&&i==n?e:void 0}function Fe(e,t){return null!=e&&t in Object(e)}function qe(e,t,i,n,s){return e===t||(null==e||null==t||!lt(e)&&!ut(t)?e!=e&&t!=t:function(e,t,i,n,s,o){var c=rt(e),p=rt(t),b=u,B=u;c||(b=(b=He(e))==l?g:b);p||(B=(B=He(t))==l?g:B);var j=b==g&&!H(e),x=B==g&&!H(t),R=b==B;if(R&&!j)return o||(o=new Re),c||ft(e)?Ue(e,t,i,n,s,o):function(e,t,i,n,s,o,c){switch(i){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!n(new se(e),new se(t)));case d:case f:case m:return nt(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case w:return e==t+"";case v:var l=J;case _:var u=o&a;if(l||(l=Y),e.size!=t.size&&!u)return!1;var p=c.get(e);if(p)return p==t;o|=r,c.set(e,t);var b=Ue(l(e),l(t),n,s,o,c);return c.delete(e),b;case S:if(Se)return Se.call(e)==Se.call(t)}return!1}(e,t,b,i,n,s,o);if(!(s&a)){var O=j&&ee.call(e,"__wrapped__"),k=x&&ee.call(t,"__wrapped__");if(O||k){var E=O?e.value():e,T=k?t.value():t;return o||(o=new Re),i(E,T,n,s,o)}}if(!R)return!1;return o||(o=new Re),function(e,t,i,n,s,r){var o=s&a,c=ht(e),l=c.length,u=ht(t).length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=c[d];if(!(o?f in t:ee.call(t,f)))return!1}var h=r.get(e);if(h&&r.get(t))return h==t;var p=!0;r.set(e,t),r.set(t,e);for(var b=o;++d<l;){f=c[d];var v=e[f],m=t[f];if(n)var g=o?n(m,v,f,t,e,r):n(v,m,f,e,t,r);if(!(void 0===g?v===m||i(v,m,n,s,r):g)){p=!1;break}b||(b="constructor"==f)}if(p&&!b){var y=e.constructor,_=t.constructor;y!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return r.delete(e),r.delete(t),p}(e,t,i,n,s,o)}(e,t,qe,i,n,s))}function Le(e){return!(!lt(e)||function(e){return!!X&&X in e}(e))&&(ot(e)||H(e)?ie:k).test(et(e))}function De(e){return"function"==typeof e?e:null==e?pt:"object"==typeof e?rt(e)?function(e,t){if(Ge(e)&&ze(t))return Ke(Ze(e),t);return function(i){var n=function(e,t,i){var n=null==e?void 0:Ae(e,t);return void 0===n?i:n}(i,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,i){var n,s=-1,r=(t=Ge(t,e)?[t]:Me(t)).length;for(;++s<r;){var a=Ze(t[s]);if(!(n=null!=e&&i(e,a)))break;e=e[a]}if(n)return n;return!!(r=e?e.length:0)&&ct(r)&&Ye(a,r)&&(rt(e)||st(e))}(e,t,Fe)}(i,e):qe(t,n,void 0,r|a)}}(e[0],e[1]):function(e){var t=function(e){var t=ht(e),i=t.length;for(;i--;){var n=t[i],s=e[n];t[i]=[n,s,ze(s)]}return t}(e);if(1==t.length&&t[0][2])return Ke(t[0][0],t[0][1]);return function(i){return i===e||function(e,t,i,n){var s=i.length,o=s,c=!n;if(null==e)return!o;for(e=Object(e);s--;){var l=i[s];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<o;){var u=(l=i[s])[0],d=e[u],f=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var h=new Re;if(n)var p=n(d,f,u,e,t,h);if(!(void 0===p?qe(f,d,n,r|a,h):p))return!1}}return!0}(i,e,t)}}(e):function(e){return Ge(e)?function(e){return function(t){return null==t?void 0:t[e]}}(Ze(e)):function(e){return function(t){return Ae(t,e)}}(e)}(e)}function Ie(e){if(!function(e){var t=e&&e.constructor,i="function"==typeof t&&t.prototype||z;return e===i}(e))return ce(e);var t=[];for(var i in Object(e))ee.call(e,i)&&"constructor"!=i&&t.push(i);return t}function Ne(e,t,i){var n=-1;return t=V(t.length?t:[pt],W(De)),function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}(function(e,t){var i=-1,n=at(e)?Array(e.length):[];return Ee(e,function(e,s,r){n[++i]=t(e,s,r)}),n}(e,function(e,i,s){return{criteria:V(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,i){var n=-1,s=e.criteria,r=t.criteria,a=s.length,o=i.length;for(;++n<a;){var c=Ve(s[n],r[n]);if(c){if(n>=o)return c;var l=i[n];return c*("desc"==l?-1:1)}}return e.index-t.index}(e,t,i)})}function Me(e){return rt(e)?e:Xe(e)}function Ve(e,t){if(e!==t){var i=void 0!==e,n=null===e,s=e==e,r=dt(e),a=void 0!==t,o=null===t,c=t==t,l=dt(t);if(!o&&!l&&!r&&e>t||r&&a&&c&&!o&&!l||n&&a&&c||!i&&c||!s)return 1;if(!n&&!r&&!l&&e<t||l&&i&&s&&!n&&!r||o&&i&&s||!a&&s||!c)return-1}return 0}function Ue(e,t,i,n,s,o){var c=s&a,l=e.length,u=t.length;if(l!=u&&!(c&&u>l))return!1;var d=o.get(e);if(d&&o.get(t))return d==t;var f=-1,h=!0,p=s&r?new xe:void 0;for(o.set(e,t),o.set(t,e);++f<l;){var b=e[f],v=t[f];if(n)var m=c?n(v,b,f,t,e,o):n(b,v,f,e,t,o);if(void 0!==m){if(m)continue;h=!1;break}if(p){if(!$(t,function(e,t){if(!p.has(t)&&(b===e||i(b,e,n,s,o)))return p.add(t)})){h=!1;break}}else if(b!==v&&!i(b,v,n,s,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function $e(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map}function We(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(i)?i:void 0}var He=function(e){return te.call(e)};function Je(e){return rt(e)||st(e)||!!(oe&&e&&e[oe])}function Ye(e,t){return!!(t=null==t?c:t)&&("number"==typeof e||E.test(e))&&e>-1&&e%1==0&&e<t}function Qe(e,t,i){if(!lt(i))return!1;var n=typeof t;return!!("number"==n?at(i)&&Ye(t,i.length):"string"==n&&t in i)&&nt(i[t],e)}function Ge(e,t){if(rt(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!dt(e))||(j.test(e)||!B.test(e)||null!=t&&e in Object(t))}function ze(e){return e==e&&!lt(e)}function Ke(e,t){return function(i){return null!=i&&(i[e]===t&&(void 0!==t||e in Object(i)))}}(ue&&He(new ue(new ArrayBuffer(1)))!=C||de&&He(new de)!=v||fe&&"[object Promise]"!=He(fe.resolve())||he&&He(new he)!=_||pe&&"[object WeakMap]"!=He(new pe))&&(He=function(e){var t=te.call(e),i=t==g?e.constructor:void 0,n=i?et(i):void 0;if(n)switch(n){case ve:return C;case me:return v;case ge:return"[object Promise]";case ye:return _;case _e:return"[object WeakMap]"}return t});var Xe=it(function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(dt(e))return Pe?Pe.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}(e);var t=[];return x.test(e)&&t.push(""),e.replace(R,function(e,i,n,s){t.push(n?s.replace(O,"$1"):i||e)}),t});function Ze(e){if("string"==typeof e||dt(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function et(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var tt=function(e,t){return t=le(void 0===t?e.length-1:t,0),function(){for(var i=arguments,n=-1,s=le(i.length-t,0),r=Array(s);++n<s;)r[n]=i[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=i[n];return a[t]=r,function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,a)}}(function(e,t){if(null==e)return[];var i=t.length;return i>1&&Qe(e,t[0],t[1])?t=[]:i>2&&Qe(t[0],t[1],t[2])&&(t=[t[0]]),Ne(e,function e(t,i,n,s,r){var a=-1,o=t.length;for(n||(n=Je),r||(r=[]);++a<o;){var c=t[a];i>0&&n(c)?i>1?e(c,i-1,n,s,r):U(r,c):s||(r[r.length]=c)}return r}(t,1),[])});function it(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var i=function(){var n=arguments,s=t?t.apply(this,n):n[0],r=i.cache;if(r.has(s))return r.get(s);var a=e.apply(this,n);return i.cache=r.set(s,a),a};return i.cache=new(it.Cache||je),i}function nt(e,t){return e===t||e!=e&&t!=t}function st(e){return function(e){return ut(e)&&at(e)}(e)&&ee.call(e,"callee")&&(!re.call(e,"callee")||te.call(e)==l)}it.Cache=je;var rt=Array.isArray;function at(e){return null!=e&&ct(e.length)&&!ot(e)}function ot(e){var t=lt(e)?te.call(e):"";return t==p||t==b}function ct(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function lt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ut(e){return!!e&&"object"==typeof e}function dt(e){return"symbol"==typeof e||ut(e)&&te.call(e)==S}var ft=M?W(M):function(e){return ut(e)&&ct(e.length)&&!!T[te.call(e)]};function ht(e){return at(e)?Oe(e):Ie(e)}function pt(e){return e}e.exports=tt}).call(this,i(39)(e))},,,,,,,,,,,,,function(e,t,i){e.exports=i(91)},function(e,t,i){"use strict";var n=i(17);i.n(n).a},function(e,t,i){"use strict";var n=i(18);i.n(n).a},function(e,t,i){"use strict";var n=i(19);i.n(n).a},function(e,t,i){"use strict";var n=i(20);i.n(n).a},function(e,t,i){"use strict";var n=i(21);i.n(n).a},function(e,t,i){"use strict";var n=i(22);i.n(n).a},function(e,t,i){"use strict";var n=i(23);i.n(n).a},function(e,t,i){"use strict";var n=i(24);i.n(n).a},function(e,t,i){"use strict";var n=i(25);i.n(n).a},function(e,t,i){"use strict";var n=i(26);i.n(n).a},function(e,t,i){"use strict";var n=i(27);i.n(n).a},,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.r(t);var n=i(1),s=i(15),r=i(7),a=i(13),o=i.n(a),c=i(5),l=i(4),u={name:"similar-requests",props:["config","publicbodies","subject"],mixins:[l.a],data:function(){return{similarRequests:[],searches:{},moreSimilarRequestsAvailable:!1}},created:function(){this.search=new c.a(this.config),this.runSearch()},computed:{hasResources:function(){return this.publicBody&&this.publicBody.url},hasSimilarRequests:function(){return this.similarRequests.length>0},searchUrl:function(){return this.config.url.search+"?q="+encodeURIComponent(this.subject)},debouncedSearch:function(){return o()(this.runSearch,1e3)},publicBody:function(){return this.publicbodies[0]}},methods:{runSearch:function(){var e=this;this.subject&&(void 0===this.searches[this.subject]?(this.searches[this.subject]=!1,function(t){e.search.searchFoiRequests(t).then(function(i){e.moreSimilarRequestsAvailable=i.length>5,e.similarRequests=i.slice(0,5),e.searches[t]=i})}(this.subject)):!1!==this.searches[this.subject]&&(this.similarRequests=this.searches[this.subject]))}},watch:{subject:function(e,t){this.debouncedSearch()}}},d=i(2),f=Object(d.a)(u,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[e.hasResources||e.hasSimilarRequests?i("div",{staticClass:"card mb-3"},[i("h5",{staticClass:"card-header"},[e._v("\n        "+e._s(e.i18n.similarExist)+"\n      ")]),e._v(" "),i("div",{staticClass:"card-body"},[i("div",{staticClass:"row"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasResources,expression:"hasResources"}],staticClass:"col-md-6"},[i("h6",[e._v("\n              "+e._s(e.i18n.relevantResources)+"\n            ")]),e._v(" "),i("ul",[e.publicBody.url?i("li",[i("a",{attrs:{href:e.publicBody.url,target:"_blank",rel:"noopener"}},[e._v("\n                  "+e._s(e.i18n.officialWebsite)+" "+e._s(e.publicBody.name)+"\n                ")])]):e._e()])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasSimilarRequests,expression:"hasSimilarRequests"}],staticClass:"col-md-6"},[i("h6",[e._v("\n              "+e._s(e.i18n.similarRequests)+"\n            ")]),e._v(" "),i("ul",{staticClass:"similar-requests"},e._l(e.similarRequests,function(t){return i("li",{key:t.url},[i("a",{attrs:{href:t.url,target:"_blank"}},[e._v("\n                  "+e._s(t.title)+"\n                ")])])}),0),e._v(" "),e.moreSimilarRequestsAvailable?i("p",[i("a",{attrs:{href:e.searchUrl,target:"_blank"}},[e._v("\n                "+e._s(e.i18n.moreSimilarRequests)+"\n              ")])]):e._e()])])])]):e._e()])])},[],!1,null,null,null).exports,h=i(14),p=i(3),b=i(0),v=i(11),m=i(6),g=i(45),y=i.n(g),_={name:"pb-table-row",props:["name","row","selected","headers"],computed:{rowCategories:function(){return this.row.categories.map(function(e){return e.name}).join(", ")},value:{get:function(){return this.selected},set:function(e){this.$emit("update:row",{id:this.row.id,value:e})}},hasJurisdiction:function(){return this.headers.filter(function(e){return"jurisdiction"===e.key}).length>0},hasClassification:function(){return this.headers.filter(function(e){return"classification"===e.key}).length>0},hasCategories:function(){return this.headers.filter(function(e){return"categories"===e.key}).length>0}},methods:{toggleRow:function(e){this.value=!this.value}}},w=(i(59),Object(d.a)(_,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"row-data",class:{"row-active":e.value},on:{click:e.toggleRow}},[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"checkbox","data-label":e.row.name},domProps:{value:e.row.id,checked:Array.isArray(e.value)?e._i(e.value,e.row.id)>-1:e.value},on:{change:function(t){var i=e.value,n=t.target,s=!!n.checked;if(Array.isArray(i)){var r=e.row.id,a=e._i(i,r);n.checked?a<0&&(e.value=i.concat([r])):a>-1&&(e.value=i.slice(0,a).concat(i.slice(a+1)))}else e.value=s}}})]),e._v(" "),i("td",[e._v("\n    "+e._s(e.row.name)+"\n    "),i("a",{staticClass:"info-link",attrs:{href:e.row.site_url,target:"_blank"},on:{click:function(e){e.stopPropagation()}}},[i("span",{staticClass:"sr-only"},[e._v("Details")]),i("i",{staticClass:"fa fa-info-circle",attrs:{"aria-hidden":"true"}})])]),e._v(" "),e.hasJurisdiction?i("td",[e._v("\n    "+e._s(e.row.jurisdiction.name)+"\n  ")]):e._e(),e._v(" "),e.hasClassification?i("td",[e._v("\n    "+e._s(e.row.classification&&e.row.classification.name||"-")+"\n  ")]):e._e(),e._v(" "),e.hasCategories?i("td",[e._v("\n    "+e._s(e.rowCategories)+"\n  ")]):e._e()])},[],!1,null,"d5c245d0",null).exports);function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var P={name:"pb-table",props:["name","headers","options","scope","i18n","rows"],data:function(){return{sortHeader:null,sortOrder:1,allRowsSelected:!1}},computed:{sortedRows:function(){var e=this,t=this.rows.slice();if(null===this.sortHeader)return t;var i=this.headers.find(function(t){return t.label===e.sortHeader});return t=y()(t,i.sortKey),-1===this.sortOrder&&(t=t.reverse()),t},selectAllRows:{get:function(){return this.allRowsSelected},set:function(){this.allRowsSelected=!this.allRowsSelected,this.$emit("selectAllRows",this.allRowsSelected)}}},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){S(e,t,i[t])})}return e}({changeSort:function(e){e===this.sortHeader&&(this.sortOrder*=-1),this.sortHeader=e},updateRow:function(e){var t=e.id;e.value?this.addPublicBodyId({publicBodyId:t,scope:this.scope}):this.removePublicBodyId({publicBodyId:t,scope:this.scope})}},Object(p.d)({setStepRequest:b.m,addPublicBodyId:b.a,removePublicBodyId:b.f})),components:{PbTableRow:w}},C=(i(60),Object(d.a)(P,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{staticClass:"table table-hover table-responsive"},[i("thead",[i("tr",[i("th"),e._v(" "),e._l(e.headers,function(t){return i("th",{key:t.label,class:t.class},[e._v("\n        "+e._s(t.label)+"\n        "),e.options.sortableHeader&&t.sortKey?i("i",{staticClass:"sort-control fa",class:{"fa-sort-alpha-asc":e.sortOrder>0,"fa-sort-alpha-desc":e.sortOrder<0,"sort-control--active":e.sortHeader===t.label},on:{click:function(i){return e.changeSort(t.label)}}}):e._e()])})],2)]),e._v(" "),i("transition-group",{attrs:{name:"table",tag:"tbody"}},e._l(e.sortedRows,function(t){return i("pb-table-row",{key:t.id,attrs:{name:e.name,row:t,headers:e.headers,selected:t.isSelected},on:{"update:row":e.updateRow}})}),1)],1)},[],!1,null,"4a9638f9",null).exports);function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){j(e,t,i[t])})}return e}function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var x={name:"pb-pagination",props:["scope","i18n"],computed:B({searchResults:function(){return this.getScopedSearchResults(this.scope)},hasSearchResults:function(){return this.searchResults.length>0},hasNextSearchResults:function(){var e=this.getScopedSearchMeta(this.scope);return!!e&&e.next},hasPreviousSearchResults:function(){var e=this.getScopedSearchMeta(this.scope);return!!e&&e.previous},currentResultPage:function(){var e=this.getScopedSearchMeta(this.scope);return e?e.offset/e.limit+1:0},maxResultPage:function(){var e=this.getScopedSearchMeta(this.scope);return e?Math.ceil(e.total_count/e.limit):0},currentResultsLength:function(){var e=this.searchResults;return e?e.length:null},searchResultsLength:function(){var e=this.getScopedSearchMeta(this.scope);return e?e.total_count:null}},Object(p.c)(["getPublicBody","getPublicBodyByScope","getPublicBodiesByScope","getScopedSearchResults","getScopedSearchMeta"])),methods:B({getNext:function(e){this.getNextSearchResults(this.scope)},getPrevious:function(e){this.getPreviousSearchResults(this.scope)}},Object(p.b)(["getNextSearchResults","getPreviousSearchResults"]))},R=Object(d.a)(x,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasSearchResults?i("ul",{staticClass:"pagination"},[e.hasPreviousSearchResults?i("li",{staticClass:"page-item"},[i("a",{staticClass:"page-link prev",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.getPrevious(t)}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("«")]),e._v(" "),i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.previous))])])]):i("li",{staticClass:"page-item disabled"},[i("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("«")]),e._v(" "),i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.previous))])])]),e._v(" "),i("li",{staticClass:"page-item disabled"},[i("span",{staticClass:"page-link"},[e._v("\n      "+e._s(e.currentResultPage)+" / "+e._s(e.maxResultPage)+"\n    ")])]),e._v(" "),e.hasNextSearchResults?i("li",{staticClass:"page-item"},[i("a",{staticClass:"page-link next",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.getNext(t)}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("»")]),e._v(" "),i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.next))])])]):i("li",{staticClass:"page-item disabled"},[i("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"}},[i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.next))]),e._v(" "),i("span",{attrs:{"aria-hidden":"true"}},[e._v("»")])])])]):e._e()},[],!1,null,null,null).exports;function O(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var k={name:"pb-summary",props:["scope","dimensions","i18n"],computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){O(e,t,i[t])})}return e}({summary:function(){var e={},t=!0,i=!1,n=void 0;try{for(var s,r=this.publicBodies[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var a=s.value,o=!0,c=!1,l=void 0;try{for(var u,d=function(){var t=u.value,i=t.key(a)||"",n=t.id;e[n]=e[n]||{count:0,items:{},i18nLabel:t.i18nLabel,multi:n.multi},Array.isArray(i)||(i=[i]),i.forEach(function(t){e[n].items[t]=e[n].items[t]||0,e[n].items[t]+=1})},f=this.dimensions[Symbol.iterator]();!(o=(u=f.next()).done);o=!0)d()}catch(e){c=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(c)throw l}}}}catch(e){i=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}var h=!0,p=!1,b=void 0;try{for(var v,m=this.dimensions[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var g=v.value.id;if(void 0!==e[g]){for(var y in e[g].count=Object.keys(e[g].items).length,e[g].sorted=[],e[g].items)e[g].sorted.push({label:""===y?"-":y,count:e[g].items[y]});e[g].sorted.sort(function(e,t){return e.count===t.count?e.label>t.label?1:e.label<t.label?-1:0:e.count>t.count?-1:1})}}}catch(e){p=!0,b=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw b}}return e},publicBodies:function(){return this.getPublicBodiesByScope(this.scope)}},Object(p.c)(["getPublicBodiesByScope"]))},E=(i(61),Object(d.a)(k,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bg-light p-3 mt-5 mb-5"},[i("div",{staticClass:"row"},e._l(e.summary,function(t){return i("div",{key:t.label,staticClass:"col-sm-6 col-md-4"},[i("strong",[e._v("\n        "+e._s(t.count)+" "+e._s(e.i18n._(t.i18nLabel,{count:t.count}))+"\n        "),t.multi?i("span",[e._v("multi")]):e._e()]),e._v(" "),i("ul",{staticClass:"summary-subitem-list"},e._l(t.sorted,function(t){return i("li",{key:t.label},[e._v("\n          "+e._s(t.count)+" "+e._s(t.label)+"\n        ")])}),0)])}),0)])},[],!1,null,"6ad164d4",null).exports),T={computed:{valueList:function(){return null===this.value?[]:this.config.multi?this.value:[this.value]},hasValue:function(){return null!==this.value&&!(this.config.multi&&0===this.value.length)},hasMore:function(){return!!this.searchMeta&&null!==this.searchMeta.next}},methods:{removeFilter:function(e){if(this.config.multi){var t=this.value.filter(function(t){return e!==t});this.$emit("update",this.config,t)}else this.$emit("update",this.config,null)}}};function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var F={name:"pb-filter-list",props:["config","items","i18n","scope","value","hasMore"],computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){A(e,t,i[t])})}return e}({facetMap:function(){var e=this.getScopedSearchFacets(this.scope);if(!e)return{};var t=e[this.config.key];if(t){var i={};return t.forEach(function(e){i[e[0]]=e[1]}),i}return{}},filteredItems:function(){return this.items},orderedItems:function(){var e=this,t=this.items;return this.facetMap?t.map(function(t){return t.count=e.facetMap[t.id]||null,t}):t}},Object(p.c)(["getScopedSearchFacets"])),methods:{isActive:function(e){return this.config.multi?this.value&&this.value.some(function(t){return e===t.id}):this.value&&e===this.value.id},removeFilter:function(e){this.$emit("removeFilter",e)},setFilter:function(e){this.$emit("setFilter",e)},loadMore:function(){this.$emit("loadMore")},loadChildren:function(e){this.$emit("loadChildren",e)}}};i(62);function q(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function L(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){D(e,t,i[t])})}return e}function D(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var I={name:"pb-filter",props:["globalConfig","config","i18n","scope","value","expanded"],mixins:[T],components:{PbFilterList:Object(d.a)(F,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter-list-wrapper"},[i("ul",{staticClass:"filter-list"},e._l(e.filteredItems,function(t){return i("li",{key:t.id,class:{active:e.isActive(t.id)}},[i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),e.setFilter(t)}}},[e._v("\n        "+e._s(t.label)+"\n      ")]),e._v(" "),t.count?i("small",[e._v("("+e._s(t.count)+")")]):e._e(),e._v(" "),t.children&&t.children.length>0&&!t.subItems?i("i",{staticClass:"fa fa-chevron-down load-children",on:{click:function(i){return e.loadChildren(t)}}}):e._e(),e._v(" "),t.subItems&&t.subItems.length>0?i("pb-filter-list",{attrs:{config:e.config,i18n:e.i18n,scope:e.scope,value:e.value,items:t.subItems},on:{removeFilter:e.removeFilter,setFilter:e.setFilter,loadMore:e.loadMore,loadChildren:e.loadChildren}}):e._e()],1)}),0),e._v(" "),e.hasMore?i("small",{staticClass:"text-right"},[i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.loadMore(t)}}},[e._v(e._s(e.i18n.loadMore))])]):e._e()])},[],!1,null,"6ae46687",null).exports},data:function(){return{items:[],search:"",choice:null,lastSearch:null,searchMeta:null,loading:!1}},mounted:function(){this.runSearch()},computed:L({hasSearch:function(){return this.config.hasSearch},hasChoices:function(){return this.config.choices},triggerSearch:function(){return o()(this.runSearch,300)},facetMap:function(){var e=this.getScopedSearchFacets(this.scope);if(!e)return null;var t=e[this.config.key];if(t){var i={};return t.forEach(function(e){i[e[0]]=e[1]}),i}return null},orderedItems:function(){var e=this.items;if(this.facetMap){e=function e(t,i){return i.map(function(i){return i.count=t[i.id],i.subItems&&(i.subItems=e(t,i.subItems)),i})}(this.facetMap,e)}return e},searcher:function(){var e=new c.a(this.globalConfig);return e}},Object(p.c)(["getScopedSearchFacets"])),methods:{toggleExpand:function(){this.$emit("setFilterExpand",this.config,!this.expanded)},removeCurrentFilter:function(e){e.preventDefault(),this.removeFilter(this.value)},runSearch:function(){var e={};""===this.search&&(e=L({},e,this.config.initialFilters)),this.config.choices&&this.choice&&(e[this.config.choices[0]]=this.choice);var t=JSON.stringify(L({q:this.search},e));this.lastSearch!==t&&(this.items=[],this.lastSearch=t,this.loading=!0,this.getItems(this.search,e))},getItems:function(e,t){var i=this;this.search=e,this.config.getItems(e,t).then(function(e){i.searchMeta=e.meta,i.loading=!1,i.items=i.processItems(e.objects)})},processItems:function(e){return this.config.itemFilter&&(e=e.filter(this.config.itemFilter)),this.config.itemMap&&(e=e.map(this.config.itemMap)),e},loadMore:function(){var e=this;this.searchMeta&&this.searchMeta.next&&this.searcher.getJson(this.searchMeta.next).then(function(t){e.searchMeta=t.meta,e.items=[].concat(q(e.items),q(e.processItems(t.objects)))})},loadChildren:function(e){var t=this;this.config.getItems(null,{parent:e.id}).then(function(i){var s=t.processItems(i.objects);n.a.set(e,"subItems",s)})},setFilter:function(e){if(this.config.multi){if(this.value)this.value.some(function(t){return e.id===t.id})||(t=[].concat(q(this.value),[e]));else var t=[e];t&&this.$emit("update",this.config,t)}else this.$emit("update",this.config,e)}}},N=(i(63),Object(d.a)(I,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter-component"},[i("h5",{staticClass:"filter-heading",on:{click:e.toggleExpand}},[e._v("\n    "+e._s(e.config.label)+" "),i("i",{staticClass:"fa expand-icon",class:{"fa-chevron-down":!e.expanded,"fa-chevron-up":e.expanded}})]),e._v(" "),i("transition",{attrs:{name:"expand"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"filter-container"},[e.hasChoices?i("select",{directives:[{name:"model",rawName:"v-model",value:e.choice,expression:"choice"}],staticClass:"form-control",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.choice=t.target.multiple?i:i[0]},e.triggerSearch]}},e._l(e.config.choices[1],function(t){return i("option",{key:t[0],domProps:{value:t[0]}},[e._v("\n          "+e._s(t[1])+"\n        ")])}),0):e._e(),e._v(" "),e.hasSearch?i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:e.i18n.searchPlaceholder},domProps:{value:e.search},on:{keyup:e.triggerSearch,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.triggerSearch(t))},input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e(),e._v(" "),i("div",{staticClass:"filter-list-container"},[e.loading?i("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.loading))])]):i("pb-filter-list",{attrs:{config:e.config,i18n:e.i18n,scope:e.scope,"has-more":e.hasMore,items:e.orderedItems,value:e.value},on:{removeFilter:e.removeFilter,setFilter:e.setFilter,loadMore:e.loadMore,loadChildren:e.loadChildren}})],1)])])],1)},[],!1,null,"850ae7ae",null).exports),M={name:"pb-filter-selected",props:["globalConfig","config","i18n","scope","value","expanded"],mixins:[T]},V=(i(64),Object(d.a)(M,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasValue?i("div",e._l(e.valueList,function(t){return i("div",{key:t.id,staticClass:"filter-badge"},[e._v("\n    "+e._s(t.label)+"\n    "),i("i",{staticClass:"remove-filter fa fa-close",attrs:{"aria-hidden":"true"},on:{click:function(i){return e.removeFilter(t)}}})])}),0):e._e()},[],!1,null,"23a2f8db",null).exports);i(40);function U(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){$(e,t,i[t])})}return e}function $(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function W(e){return"-".repeat(e.depth-1)+" "+e.name}var H={name:"publicbody-multi-chooser",mixins:[v.a,m.a,l.a],props:["name","scope","defaultsearch","formJson","config"],components:{PbTable:C,PbPagination:R,PbSummary:E,PbFilter:N,PbFilterSelected:V},allowEmptySearch:!0,mounted:function(){this.hasSearchResults||this.triggerAutocomplete()},data:function(){return{search:"",blockUI:!1,blockMessage:null,blockProgress:0,lastQuery:null,searching:!1,selectOptions:{selectAllCheckbox:!0},filters:this.getEmptyFilters(),filterExpanded:{classification:!0},filterOrder:["classification","jurisdiction","categories","regions_kind","regions"]}},computed:U({getListView:function(){return this.listView?this.listView:"resultList"},filterConfig:function(){var e=this,t=new c.a(this.config);return{classification:{label:this.i18n.classificationPlural[1],key:"classification",expanded:this.filterExpanded.classification,initialFilters:{depth:1},getItems:function(e,i){return t.listClassifications(e,i)},hasSearch:!0,itemMap:function(e){return{label:W(e),id:e.id,children:e.children}}},jurisdiction:{label:this.i18n.jurisdictionPlural[1],key:"jurisdiction",expanded:this.filterExpanded.jurisdiction,getItems:function(){return t.listJurisdictions()},itemMap:function(e){return{label:e.name,id:e.id}}},categories:{label:this.i18n.topicPlural[1],key:"categories",expanded:this.filterExpanded.categories,getItems:function(e,i){return t.listCategories(e,i)},hasSearch:!0,multi:!0,itemMap:function(e){return{label:W(e),id:e.id,children:e.children}}},regions:{label:this.i18n.containingGeoregionsPlural[0],key:"regions",expanded:this.filterExpanded.georegion,getItems:function(e,i){return t.listGeoregions(e,i)},hasSearch:!0,choices:["kind",this.config.fixtures.georegion_kind],itemMap:function(e){return{label:e.name,id:e.id}}},regions_kind:{label:this.i18n.administrativeUnitKind,key:"regions_kind",getItems:function(){return Promise.resolve({meta:{next:null},objects:e.config.fixtures.georegion_kind})},itemMap:function(e){return{label:e[1],id:e[0]}}}}},currentHeaders:function(){var e=this;return this.headers.filter(function(t){return!e.hasFilter(t.key)})},publicBodies:function(){return this.getPublicBodiesByScope(this.scope)},hasNextSearchResults:function(){var e=this.getScopedSearchMeta(this.scope);return!!e&&e.next},selectAllButtonDisabled:function(){return!(this.hasSearchResults&&this.canSelectAll)},canSelectAll:function(){var e=0,t=this.getScopedSearchMeta(this.scope);return t&&(e=t.total_count),this.publicBodies.length+e<=800},maxResultPage:function(){var e=this.getScopedSearchMeta(this.scope);return e?Math.ceil(e.total_count/e.limit):0},blockProgressWidth:function(){return"width: ".concat(this.blockProgress,"%")}},Object(p.c)(["getPublicBodiesByScope","getScopedSearchMeta"])),methods:U({togglePane:function(e){this.tabPane=e.target.dataset.pane},getEmptyFilters:function(){return{classification:null,jurisdiction:null,categories:[],regions:null,regions_kind:null}},hasFilter:function(e){var t=this.filters[e];return void 0!==t&&(null!==t&&(!Array.isArray(t)||0!==t.length))},selectAll:function(){var e=this;this.blockUI=!0,this.blockMessage=this.i18n.selectingAll,1!==this.currentResultPage?this.runAutocomplete().then(function(){return e.selectAll()}):(this.selectAllRows(!0),this.selectAllNext(1))},selectAllNext:function(e){var t=this;this.blockProgress=e/this.maxResultPage*100,this.hasNextSearchResults?this.getNextSearchResults(this.scope).then(function(){t.selectAllRows(!0),t.hasNextSearchResults?t.selectAllNext(e+1):(t.blockUI=!1,t.tabPane="chosen")}):this.blockUI=!1},clearSearch:function(){this.clearResults(),this.filters=this.getEmptyFilters()},setFilterExpand:function(e,t){var i=$({},e.key,t);if(t)for(var n in this.filterExpanded)n!==e.key&&(i[n]=!1);this.filterExpanded=i},updateFilter:function(e,t){n.a.set(this.filters,e.key,t),this.triggerAutocomplete()}},Object(p.d)({setStepRequest:b.m,addPublicBodyId:b.a,removePublicBodyId:b.f,clearPublicBodies:b.d}),Object(p.b)(["getNextSearchResults"])),watch:{defaultsearch:function(){this.triggerAutocomplete()}}},J=(i(65),Object(d.a)(H,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"publicbody-chooser mb-3"},[e.blockUI?i("div",{staticClass:"mt-5 text-center"},[i("h4",[e._v("\n      "+e._s(e.blockMessage)+"\n    ")]),e._v(" "),i("div",{staticClass:"progress"},[i("div",{staticClass:"progress-bar",style:e.blockProgressWidth,attrs:{role:"progressbar","aria-valuenow":e.blockProgress,"aria-valuemin":"0","aria-valuemax":"100"}})])]):[i("div",{staticClass:"row"},[i("div",{staticClass:"form-search col-md-8 mt-3"},[i("label",{attrs:{for:"publicbody-multi-search-input"}},[e._v(e._s(e.i18n.searchPublicBodyLabel))]),e._v(" "),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"search-public_bodies form-control form-control-lg",attrs:{id:"publicbody-multi-search-input",type:"search",placeholder:e.i18n.publicBodySearchPlaceholder},domProps:{value:e.search},on:{keyup:e.triggerAutocomplete,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.triggerAutocomplete(t))},input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-primary search-public_bodies-submit",attrs:{type:"button"},on:{click:e.triggerAutocomplete}},[i("i",{staticClass:"fa fa-search"}),e._v("\n              "+e._s(e.i18n.search)+"\n            ")])])])])]),e._v(" "),i("div",{staticClass:"row mb-4 mt-5"},[i("div",{staticClass:"col-auto"},[i("h3",{directives:[{name:"show",rawName:"v-show",value:!e.searching,expression:"!searching"}]},[e._v("\n          "+e._s(e.i18n._("publicBodiesFound",{count:e.searchResultsLength}))+"\n        ")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.searching,expression:"searching"}],staticClass:"col-auto"},[i("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.loading))])])])]),e._v(" "),i("div",{staticClass:"col-auto"},[i("button",{staticClass:"btn btn-sm btn-light",attrs:{disabled:e.selectAllButtonDisabled},on:{click:function(t){return t.preventDefault(),e.selectAll(t)}}},[e._v("\n          "+e._s(e.i18n._("selectAll",{count:e.searchResultsLength}))+"\n        ")])]),e._v(" "),i("div",{staticClass:"col-auto ml-auto"},[i("button",{staticClass:"btn-sm btn btn-light",attrs:{disabled:!e.hasSearchResults},on:{click:function(t){return t.preventDefault(),e.clearSearch(t)}}},[e._v("\n          "+e._s(e.i18n.clearSearchResults)+"\n        ")])])]),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8 col-lg-9 order-2"},[i("pb-table",{attrs:{name:e.name,scope:e.scope,i18n:e.i18n,headers:e.currentHeaders,options:e.selectOptions,rows:e.searchResults},on:{selectAllRows:e.selectAllRows}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.searching,expression:"searching"}],staticClass:"spinner-border text-secondary",attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.loading))])]),e._v(" "),e.searching?e._e():e._t("publicbody-missing"),e._v(" "),i("pb-pagination",{attrs:{scope:e.scope,i18n:e.i18n}})],2),e._v(" "),i("div",{staticClass:"col-md-4  col-lg-3 order-md-1"},[e._l(e.filterOrder,function(t){return i("pb-filter-selected",{key:t,attrs:{config:e.filterConfig[t],value:e.filters[t]},on:{update:e.updateFilter}})}),e._v(" "),i("div",{staticClass:"row mt-3"},e._l(e.filterOrder,function(t){return i("div",{key:t,staticClass:"col-sm-4 col-md-12 filter-column"},[i("pb-filter",{attrs:{"global-config":e.config,expanded:e.filterExpanded[t],config:e.filterConfig[t],i18n:e.i18n,scope:e.scope,value:e.filters[t]},on:{update:e.updateFilter,setFilterExpand:e.setFilterExpand}})],1)}),0)],2)])]],2)},[],!1,null,"7f6ed3d3",null).exports),Y={name:"user-registration",props:{config:{type:Object},form:{type:Object},user:{type:Object,default:null},defaultLaw:{type:Object},initialEmail:{type:String,default:""},initialAddress:{type:String,default:""},initialPrivate:{type:Boolean,default:!1},addressHelpText:{type:String,default:null},addressRequired:{type:Boolean,default:!1}},mixins:[l.a],data:function(){return{emailValue:this.initialEmail,addressValue:this.initialAddress||this.user&&this.user.address||"",privateValue:this.initialPrivate||this.user&&this.user.private}},computed:{formFields:function(){return this.form.fields},errors:function(){return this.form?this.form.errors:{}},addressHelpTextValue:function(){return null!==this.addressHelpText?this.addressHelpText:formFields.address.help_text},email:{get:function(){return this.emailValue},set:function(e){this.emailValue=e,this.$emit("update:initialEmail",e)}},address:{get:function(){return this.addressValue},set:function(e){this.addressValue=e,this.$emit("update:initialAddress",e)}},userPrivate:{get:function(){return this.privateValue},set:function(e){this.privateValue=e,this.$emit("update:initialPrivate",e)}},requiresPostalAddress:function(){return!!this.addressRequired||(!this.defaultLaw||!this.defaultLaw.email_only)}}},Q=Object(d.a)(Y,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"card mb-3"},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-sm-3 col-form-label",class:{"text-danger":e.errors.user_email,"field-required":!e.user},attrs:{for:"id_user_email"}},[e._v("\n          "+e._s(e.i18n.yourEmail)+"\n        ")]),e._v(" "),i("div",{staticClass:"col-sm-9"},[e.user?i("p",{staticClass:"form-control-plaintext",attrs:{id:"email_address"}},[e._v("\n            "+e._s(e.user.email)+"\n          ")]):i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":e.errors.user_email},attrs:{type:"email",name:"user_email",placeholder:e.formFields.user_email.placeholder,required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),e._l(e.errors.user_email,function(t){return i("p",{key:t.message,staticClass:"text-danger"},[e._v(e._s(t.message))])})],2)])]),e._v(" "),i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-sm-3 col-form-label",class:{"text-danger":e.errors.address,"field-required":e.requiresPostalAddress},attrs:{for:"id_address"}},[e._v("\n          "+e._s(e.i18n.yourAddress)+"\n        ")]),e._v(" "),i("div",{staticClass:"col-sm-9"},[i("div",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"form-control",class:{"is-invalid":e.errors.address},attrs:{name:"address",placeholder:e.formFields.address.placeholder,required:e.requiresPostalAddress},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}}),e._v(" "),e._l(e.errors.address,function(t){return i("p",{key:t.message},[e._v(e._s(t.message))])}),e._v(" "),i("p",{staticClass:"help-block"},[i("span",{domProps:{innerHTML:e._s(e.addressHelpText)}})])],2)])]),e._v(" "),e.config.settings.user_can_hide_web&&!e.user?i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"checkbox"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.userPrivate,expression:"userPrivate"}],attrs:{id:"id_private",type:"checkbox",name:"private"},domProps:{checked:Array.isArray(e.userPrivate)?e._i(e.userPrivate,null)>-1:e.userPrivate},on:{change:function(t){var i=e.userPrivate,n=t.target,s=!!n.checked;if(Array.isArray(i)){var r=e._i(i,null);n.checked?r<0&&(e.userPrivate=i.concat([null])):r>-1&&(e.userPrivate=i.slice(0,r).concat(i.slice(r+1)))}else e.userPrivate=s}}}),e._v("\n                "+e._s(e.formFields.private.label)+"\n              ")]),e._v(" "),i("br"),e._v(" "),i("p",{staticClass:"help-block",domProps:{innerHTML:e._s(e.formFields.private.help_text)}})])])])]):e._e()])])])},[],!1,null,null,null).exports,G={computed:{letterStart:function(){return this.defaultLaw?this.defaultLaw.letter_start+"\n":this.i18n.greeting+"\n\n"+this.i18n.defaultLetterStart+"\n"},letterSignatureName:function(){var e="";return(this.first_name||this.last_name)&&(e="".concat(this.first_name||""," ").concat(this.last_name||"")),e.trim()},letterEndShort:function(){var e=this.letterSignatureName;return"\n".concat(this.i18n.kindRegards,"\n").concat(e)},letterEnd:function(){var e=this.letterSignatureName;return this.defaultLaw?"".concat(this.defaultLaw.letter_end,"\n").concat(e):"".concat(this.i18n.kindRegards,"\n").concat(e)},letterEndNoName:function(){return this.defaultLaw?"".concat(this.defaultLaw.letter_end):"".concat(this.i18n.kindRegards)},letterSignature:function(){return!(this.user||this.first_name||this.last_name)&&this.i18n.giveName}}};function z(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function K(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var X={name:"review-request",props:["i18n","publicbodies","user","defaultLaw","subject","body","fullText"],mixins:[G],computed:{canSend:function(){return this.user.id||!this.hasErrors},hasErrors:function(){return this.errors.length>0},userValid:function(){return this.user.first_name&&this.user.last_name&&this.user.email},subjectValid:function(){return this.subject&&this.subject.length>0},errors:function(){var e=this,t=[];this.subjectValid||t.push(this.i18n.noSubject),this.body&&0!==this.body.length||t.push(this.i18n.noBody);var i=[];return this.fullText||(i=[].concat(z(i),[[new RegExp(K(this.i18n.greeting),"gi"),this.i18n.dontAddGreeting],[new RegExp(K(this.i18n.kindRegards),"gi"),this.i18n.dontAddClosing]])),this.userRegex&&i.push([this.userRegex,this.i18n.dontInsertName]),i.forEach(function(i){i[0].test(e.body)&&t.push(i[1])}),t},userRegex:function(){var e=[];return this.user.first_name&&this.user.last_name&&e.push(K("".concat(this.user.first_name," ").concat(this.user.last_name))),this.user.first_name&&e.push(K(this.user.first_name)),this.user.first_name&&e.push(K(this.user.first_name)),0===e.length?null:new RegExp(e.join("|"),"gi")},publicBody:function(){return this.publicbodies[0]},publicBodies:function(){return this.publicbodies}},methods:{close:function(){this.$emit("close")}}},Z=(i(66),Object(d.a)(X,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal-mask",attrs:{id:"step-review"},on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[i("div",{staticClass:"modal-dialog modal-lg"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"modal-title"},[e._v("\n            "+e._s(e.i18n.reviewTitle)+"\n          ")]),e._v(" "),i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.close}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),e._v(" "),i("div",{staticClass:"modal-body"},[i("dl",{staticClass:"message-meta"},[i("dt",{class:{"text-danger":!e.userValid}},[e._v(e._s(e.i18n.reviewFrom))]),e._v(" "),i("dd",{class:{"text-danger":!e.userValid}},[e._v("\n              "+e._s(e.user.first_name)+" "+e._s(e.user.last_name)+" <"+e._s(e.user.email)+">\n            ")]),e._v(" "),i("dt",[e._v(e._s(e.i18n.reviewTo))]),e._v(" "),e.publicBodies.length>1?i("dd",[e._v("\n              "+e._s(e.publicBodies.length)+" "+e._s(e.i18n.reviewPublicbodies)+"\n            ")]):e.publicBody?i("dd",[e._v("\n              "+e._s(e.publicBody.name)+"\n            ")]):i("dd",[e._v("\n              -\n            ")]),e._v(" "),i("dt",{class:{"text-danger":!e.subjectValid}},[e._v(e._s(e.i18n.subject))]),e._v(" "),i("dd",{class:{"text-danger":!e.subjectValid}},[e._v("\n              "+e._s(e.subject)+"\n            ")])]),e._v(" "),e.fullText?i("div",[i("div",{staticClass:"body-text review-body-text"},[e._v(e._s(e.body)+"\n"+e._s(e.letterSignatureName))])]):i("div",[i("div",{staticClass:"body-text review-body-text"},[i("span",[e._v(e._s(e.letterStart))]),e._v(" "),i("span",{staticClass:"highlight"},[e._v("\n"+e._s(e.body)+"\n")]),e._v(" "),i("span",[e._v("\n"+e._s(e.letterEnd))])])]),e._v(" "),i("ul",{staticClass:"review-hints"},[i("li",[e._v(e._s(e.i18n.reviewSpelling))]),e._v(" "),i("li",[e._v(e._s(e.i18n.reviewPoliteness))]),e._v(" "),e._l(e.errors,function(t){return i("li",{key:t,staticClass:"error"},[e._v("\n              "+e._s(t)+"\n            ")])})],2)]),e._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn",class:{"btn-secondary":e.canSend,"btn-primary":!e.canSend},attrs:{type:"button"},on:{click:e.close}},[i("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}}),e._v("\n            "+e._s(e.i18n.reviewEdit)+"\n          ")]),e._v(" "),e.canSend?i("button",{staticClass:"btn btn-primary",attrs:{type:"submit",id:"send-request-button"}},[i("i",{staticClass:"fa fa-send",attrs:{"aria-hidden":"true"}}),e._v("\n            "+e._s(e.i18n.submitRequest)+"\n          ")]):e._e()])])])])},[],!1,null,"32e1655f",null).exports),ee=[{id:"jurisdiction",i18nLabel:"jurisdictionPlural",key:function(e){return e.jurisdiction.name}},{id:"classification",i18nLabel:"classificationPlural",key:function(e){return e.classification&&e.classification.name}},{id:"categories",i18nLabel:"topicPlural",multi:!0,key:function(e){return e.categories.map(function(e){return e.name})}}];function te(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ie={name:"pb-multi-review",mixins:[v.a,m.a],props:["name","scope","i18n"],components:{PbTable:C,PbSummary:E},data:function(){return{chosenOptions:{sortableHeader:!0}}},computed:{summaryDimensions:function(){return ee}},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){te(e,t,i[t])})}return e}({},Object(p.d)({setStepSelectPublicBody:b.o}))},ne=Object(d.a)(ie,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"review"},[i("div",{staticClass:"row mt-3 mb-3"},[i("div",{staticClass:"col-auto"},[i("h3",{staticClass:"display-4"},[e._v("\n        "+e._s(e.i18n._("publicBodiesCount",{count:e.publicBodies.length}))+"\n      ")])])]),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-auto"},[i("button",{staticClass:"btn btn-primary btn-lg",on:{click:function(t){return t.preventDefault(),e.setStepSelectPublicBody(t)}}},[e._v("\n        ← weitere Behörden hinzufügen\n      ")])])]),e._v(" "),i("pb-summary",{attrs:{scope:e.scope,i18n:e.i18n,dimensions:e.summaryDimensions}}),e._v(" "),i("div",{staticClass:"row mb-2"},[i("div",{staticClass:"col-auto ml-auto"},[e.publicBodies.length>0?i("button",{staticClass:"btn btn-sm hover-btn-danger",on:{click:function(t){return t.preventDefault(),e.clearSelection(t)}}},[i("i",{staticClass:"fa fa-ban",attrs:{"aria-hidden":"true"}}),e._v("\n        "+e._s(e.i18n.clearSelection)+"\n      ")]):e._e()])]),e._v(" "),i("pb-table",{staticClass:"transition",attrs:{name:e.name,scope:e.scope,i18n:e.i18n,headers:e.headers,options:e.chosenOptions,rows:e.publicBodies},on:{selectAllRows:e.selectAllRows}})],1)},[],!1,null,null,null).exports,se={name:"request-form",props:{config:{type:Object},publicbodies:{type:Array,default:null},user:{type:Object,default:null},defaultLaw:{type:Object,default:null},requestForm:{type:Object},userForm:{type:Object},lawType:{type:String,default:""},showDraft:{type:Boolean,default:!1},hidePublicbodyChooser:{type:Boolean,default:!1},hideFullText:{type:Boolean,default:!0},hideEditing:{type:Boolean,default:!1},multiRequest:{type:Boolean,default:!1},usePseudonym:{type:Boolean,default:!0},initialSubject:{type:String,default:""},initialBody:{type:String,default:""},initialFullText:{type:Boolean,default:!1},initialFirstName:{type:String,default:""},initialLastName:{type:String,default:""}},mixins:[l.a,G],data:function(){return{bodyRows:3,bodyBeforeChange:"",savedFullTextBody:"",fullTextDisabled:!1,editingDisabled:this.hideEditing,fullLetter:!1,subjectValue:this.initialSubject||"",bodyValue:this.initialBody||"",fullTextValue:this.initialFullText,firstNameValue:this.initialFirstName||this.user&&this.user.first_name||"",lastNameValue:this.initialLastName||this.user&&this.user.last_name||""}},computed:{nonFieldErrors:function(){return this.form.nonFieldErrors},form:function(){return this.requestForm},formFields:function(){return this.form.fields},errors:function(){return this.form.errors},userformFields:function(){return this.userForm.fields},usererrors:function(){return this.userForm.errors},hasLawNotes:function(){return!!this.defaultLaw&&!!this.defaultLaw.request_note_html},hasPublicBodyNotes:function(){return!!this.publicBody&&!!this.publicBody.request_note_html},lawNotes:function(){return this.hasLawNotes?this.defaultLaw.request_note_html:""},publicBodyNotes:function(){return this.hasPublicBodyNotes?this.publicBody.request_note_html:""},canBatchRequest:function(){return this.config.settings.user_can_create_batch},hasUser:function(){return this.user&&this.user.id},subject:{get:function(){return this.subjectValue},set:function(e){this.subjectValue=e,this.$emit("update:initialSubject",e)}},hasBody:function(){return this.body&&this.body.length>0},body:{get:function(){return this.bodyValue},set:function(e){this.bodyValue=e,this.$emit("update:initialBody",e)}},allowFullText:function(){return this.hasUser&&!this.hideFullText},warnFullText:function(){return this.allowFullText&&this.multipleLaws},multipleLaws:function(){return null===this.defaultLaw},fullText:{get:function(){return this.fullTextValue},set:function(e){this.fullTextValue=e,this.$emit("update:initialFullText",e),e?(this.bodyBeforeChange=this.body,this.body="".concat(this.letterStart,"\n").concat(this.body,"\n\n").concat(this.letterEndNoName)):this.fullTextDisabled||(this.body=this.bodyBeforeChange);var t=(this.body.match(/\n/g)||[]).length;this.bodyRows=Math.max(3,Math.min(t+1,10))}},first_name:{get:function(){return this.firstNameValue},set:function(e){this.firstNameValue=e,this.$emit("update:initialFirstName",e)}},last_name:{get:function(){return this.lastNameValue},set:function(e){this.lastNameValue=e,this.$emit("update:initialLastName",e)}},hasPublicBodies:function(){return this.publicBodies.length>0},publicBody:function(){return this.publicbodies[0]},publicBodies:function(){return this.publicbodies}},methods:{resetFullText:function(){this.savedFullTextBody=this.body,this.fullTextDisabled=!1,this.fullText=!1},bodyChanged:function(e){this.fullText&&(this.fullTextDisabled=!0);for(var t=document.querySelector("[name=body]");t.scrollHeight>t.clientHeight&&t.rows<10;)t.style.overflow="hidden",t.rows+=1;t.scrollHeight>t.clientHeight&&(t.style.overflow="auto"),this.bodyRows=t.rows},showFullLetter:function(){this.fullLetter=!0}}},re=(i(67),Object(d.a)(se,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("request-legend-title"),e._v(" "),e.multiRequest&&e.canBatchRequest&&e.publicBodies.length>1?i("div",{staticClass:"publicbody-summary-container"},[i("div",{staticClass:"publicbody-summary"},[i("p",[e._v("\n          "+e._s(e.i18n._("toMultiPublicBodies",{count:e.publicBodies.length}))+"\n          "),e.hidePublicbodyChooser?e._e():i("span",[i("a",{staticClass:"pb-change-link badge badge-pill badge-primary ml-3",attrs:{href:e.config.url.makeRequest},on:{click:function(t){return t.preventDefault(),e.$emit("setStepSelectPublicBody")}}},[e._v("\n              "+e._s(e.i18n.change)+"\n            ")])])])])]):e._e(),e._v(" "),e.multiRequest&&!e.canBatchRequest?i("div",{staticClass:"mb-5 mt-5"},[i("p",[e._v(e._s(e.i18n._("toMultiPublicBodies",{count:e.publicBodies.length})))]),e._v(" "),i("div",{staticClass:"publicbody-summary-list"},[i("ul",e._l(e.publicBodies,function(t){return i("li",{key:t.id},[e._v("\n            "+e._s(t.name)+"\n          ")])}),0)]),e._v(" "),i("small",[e._v(e._s(e.i18n.batchRequestDraftOnly))])]):i("div",{staticClass:"publicbody-summary-container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-12 publicbody-summary"},[i("p",[e._v("\n            "+e._s(e.i18n._("toPublicBody",{name:e.publicBody.name}))+"\n            "),e.hidePublicbodyChooser?e._e():i("span",[i("a",{staticClass:"pb-change-link badge badge-pill badge-primary ml-3",attrs:{href:e.config.url.makeRequest},on:{click:function(t){return t.preventDefault(),e.$emit("setStepSelectPublicBody")}}},[e._v("\n                "+e._s(e.i18n.change)+"\n              ")])])])])]),e._v(" "),e.hasLawNotes?i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-8"},[i("div",{staticClass:"alert alert-warning",domProps:{innerHTML:e._s(e.lawNotes)}})])]):e._e(),e._v(" "),e.hasPublicBodyNotes?i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-8"},[i("div",{staticClass:"alert alert-warning",domProps:{innerHTML:e._s(e.publicBodyNotes)}})])]):e._e()]),e._v(" "),e._l(e.publicBodies,function(e){return i("input",{key:e.id,attrs:{type:"hidden",name:"publicbody"},domProps:{value:e.id}})}),e._v(" "),i("input",{attrs:{type:"hidden",name:"law_type"},domProps:{value:e.lawType}}),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[e.nonFieldErrors.length>0?i("div",{staticClass:"alert alert-danger"},e._l(e.nonFieldErrors,function(t){return i("p",{key:t},[e._v(e._s(t))])}),0):e._e(),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{class:{"text-danger":e.errors.subject},attrs:{for:"id_subject"}},[e._v("\n            "+e._s(e.i18n.subject)+"\n          ")]),e._v(" "),e.editingDisabled?i("div",[i("input",{attrs:{type:"hidden",name:"subject"},domProps:{value:e.subject}}),e._v(" "),i("strong",[e._v(e._s(e.subject))]),e._v(" "),i("button",{staticClass:"btn btn-sm btn-white pull-right",on:{click:function(t){t.preventDefault(),e.editingDisabled=!1}}},[i("small",{staticClass:"d-none d-md-block"},[e._v(e._s(e.i18n.reviewEdit))]),e._v(" "),i("small",{staticClass:"d-md-none fa fa-edit"},[i("span",{staticClass:"sr-only"},[e._v(e._s(e.i18n.reviewEdit))])])])]):i("input",{directives:[{name:"model",rawName:"v-model",value:e.subject,expression:"subject"}],staticClass:"form-control",class:{"is-invalid":e.errors.subject},attrs:{type:"text",name:"subject",id:"id_subject",placeholder:e.formFields.subject.placeholder},domProps:{value:e.subject},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.subject=t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"card mb-3"},[i("div",{staticClass:"card-body"},[e.fullText&&e.warnFullText?i("div",{staticClass:"alert alert-warning"},[i("p",[e._v("\n            "+e._s(e.i18n.warnFullText)+"\n          ")])]):e._e(),e._v(" "),i("div",{staticClass:"row"},[e.editingDisabled?e._e():i("div",{staticClass:"col-md-4 order-md-2"},[i("transition",{attrs:{name:"saved-full-text"}},[e.savedFullTextBody?i("div",[i("h6",[e._v("\n                  "+e._s(e.i18n.savedFullTextChanges)+"\n                ")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.savedFullTextBody,expression:"savedFullTextBody"}],staticClass:"saved-body",attrs:{readonly:""},domProps:{value:e.savedFullTextBody},on:{input:function(t){t.target.composing||(e.savedFullTextBody=t.target.value)}}})]):e._e()]),e._v(" "),e._t("request-hints"),e._v(" "),e.fullTextDisabled?i("button",{staticClass:"btn btn-light btn-sm",on:{click:function(t){return t.preventDefault(),e.resetFullText(t)}}},[e._v("\n              "+e._s(e.i18n.resetFullText)+"\n            ")]):e._e()],2),e._v(" "),i("div",{staticClass:"col-md-8 order-1"},[e.fullText?e._e():i("div",{staticClass:"body-text"},[e._v(e._s(e.letterStart))]),e._v(" "),e.editingDisabled?i("div",{staticClass:"body-text body-text-em"},[e._v(e._s(e.body))]):e._e(),e._v(" "),i("textarea",{directives:[{name:"show",rawName:"v-show",value:!e.editingDisabled,expression:"!editingDisabled"},{name:"model",rawName:"v-model",value:e.body,expression:"body"}],staticClass:"form-control body-textarea",class:{"is-invalid":e.errors.body,attention:!e.hasBody},attrs:{name:"body",id:"id_body",rows:e.bodyRows,placeholder:e.formFields.body.placeholder},domProps:{value:e.body},on:{keyup:e.bodyChanged,input:function(t){t.target.composing||(e.body=t.target.value)}}}),e._v(" "),e.allowFullText&&!e.editingDisabled?i("label",{staticClass:"small pull-right text-muted"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.fullText,expression:"fullText"}],attrs:{type:"checkbox",id:"full_text_checkbox",name:"full_text_checkbox",disabled:e.fullTextDisabled},domProps:{checked:Array.isArray(e.fullText)?e._i(e.fullText,null)>-1:e.fullText},on:{change:function(t){var i=e.fullText,n=t.target,s=!!n.checked;if(Array.isArray(i)){var r=e._i(i,null);n.checked?r<0&&(e.fullText=i.concat([null])):r>-1&&(e.fullText=i.slice(0,r).concat(i.slice(r+1)))}else e.fullText=s}}}),e._v(" "),e.warnFullText?i("i",{staticClass:"fa fa-exclamation-triangle",attrs:{"aria-hidden":"true"}}):e._e(),e._v("\n              "+e._s(e.formFields.full_text.label)+"\n            ")]):e._e(),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.fullText,expression:"fullText"}],attrs:{type:"hidden",name:"full_text"},domProps:{value:e.fullText},on:{input:function(t){t.target.composing||(e.fullText=t.target.value)}}}),e._v(" "),e.fullText?e._e():i("div",{staticClass:"body-text"},[e.fullLetter?[e._v("\n"+e._s(e.letterEnd))]:[i("a",{staticClass:"show-full-letter",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showFullLetter(t)}}},[e._v("[…]")]),e._v("\n"+e._s(e.letterEndShort))]],2),e._v(" "),e.letterSignature?i("div",{staticClass:"body-text"},[i("em",[e._v(e._s(e.letterSignature))])]):e._e(),e._v(" "),!e.letterSignature&&e.fullText?i("div",{staticClass:"body-text"},[e._v(e._s(e.letterSignatureName))]):e._e()])]),e._v(" "),e.hasUser?e._e():i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"form-group row"},[i("div",{staticClass:"col-sm-6",class:{"text-danger":e.usererrors.first_name}},[i("label",{staticClass:"control-label field-required",class:{"text-danger":e.usererrors.first_name},attrs:{for:"id_first_name"}},[e._v("\n                  "+e._s(e.i18n.yourFirstName)+"\n                ")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.first_name,expression:"first_name"}],staticClass:"form-control",class:{"is-invalid":e.usererrors.first_name},attrs:{type:"text",name:"first_name",id:"id_first_name",placeholder:e.userformFields.first_name.placeholder,required:""},domProps:{value:e.first_name},on:{input:function(t){t.target.composing||(e.first_name=t.target.value)}}}),e._v(" "),e._l(e.usererrors.first_name,function(t){return i("p",{key:t.message},[e._v(e._s(t.message))])})],2),e._v(" "),i("div",{staticClass:"col-sm-6",class:{"text-danger":e.usererrors.last_name}},[i("label",{staticClass:"control-label field-required",class:{"text-danger":e.usererrors.last_name},attrs:{for:"id_last_name"}},[e._v("\n                  "+e._s(e.i18n.yourLastName)+"\n                ")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.last_name,expression:"last_name"}],staticClass:"form-control",class:{"is-invalid":e.usererrors.last_name},attrs:{type:"text",name:"last_name",id:"id_last_name",placeholder:e.userformFields.last_name.placeholder,required:""},domProps:{value:e.last_name},on:{input:function(t){t.target.composing||(e.last_name=t.target.value)}}}),e._v(" "),e._l(e.usererrors.last_name,function(t){return i("p",{key:t.message},[e._v(e._s(t.message))])})],2)])]),e._v(" "),e.usePseudonym?i("div",{staticClass:"col-md-4 mt-4"},[e.userformFields.last_name.help_text?i("small",{domProps:{innerHTML:e._s(e.userformFields.last_name.help_text)}}):e._e()]):e._e()])])])],2)},[],!1,null,"8d19a8d8",null).exports);function ae(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){oe(e,t,i[t])})}return e}function oe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ce,le={name:"request-form-breadcrumbs",props:{i18n:{type:Object},hidePublicbodyChooser:{type:Boolean,default:!1},multiRequest:{type:Boolean,default:!1},hasPublicBodies:{type:Boolean,default:!1}},data:function(){return{sortHeader:null,sortOrder:1,allRowsSelected:!1}},computed:ae({showNext:function(){return!(!this.stepSelectPublicBody&&!this.stepReviewPublicBodies||!this.hasPublicBodies)}},Object(p.c)(["stepReviewPublicBodies","stepSelectPublicBody","stepReviewPublicBodiesDone","stepSelectPublicBodyDone","stepWriteRequest","stepWriteRequestDone"])),methods:ae({clickNext:function(){this.hasPublicBodies&&(this.stepSelectPublicBody&&this.multiRequest?this.setStepReviewPublicBody():this.setStepRequest())}},Object(p.d)({setStepSelectPublicBody:b.o,setStepReviewPublicBody:b.n,setStepRequest:b.m}))},ue=(i(68),Object(d.a)(le,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"process-breadcrumbs-container"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("ol",{staticClass:"process-breadcrumbs col-md-8"},[i("li",{class:{active:e.stepSelectPublicBody,done:e.stepSelectPublicBodyDone}},[e.hidePublicbodyChooser?i("span",[i("i",{staticClass:"fa fa-check-circle",attrs:{"aria-hidden":"true"}}),e._v("\n            "+e._s(e.i18n.choosePublicBody)+"\n          ")]):i("a",{attrs:{href:"#step-publicbody"},on:{click:function(t){return t.preventDefault(),e.setStepSelectPublicBody(t)}}},[i("i",{staticClass:"fa fa-check-circle",attrs:{"aria-hidden":"true"}}),e._v("\n            "+e._s(e.i18n.choosePublicBody)+"\n          ")])]),e._v(" "),e.multiRequest?i("li",{class:{active:e.stepReviewPublicBodies,done:e.stepReviewPublicBodiesDone}},[e.hasPublicBodies?i("a",{attrs:{href:"#step-publicbody-review"},on:{click:function(t){return t.preventDefault(),e.setStepReviewPublicBody(t)}}},[i("i",{staticClass:"fa",class:{"fa-check-circle":e.stepReviewPublicBodiesDone,"fa-check-circle-o":!e.stepReviewPublicBodiesDone},attrs:{"aria-hidden":"true"}}),e._v("\n            "+e._s(e.i18n.checkSelection)+"\n          ")]):i("span",[i("i",{staticClass:"fa fa-check-circle-o",attrs:{"aria-hidden":"true"}}),e._v("\n            "+e._s(e.i18n.checkSelection)+"\n          ")])]):e._e(),e._v(" "),i("li",{class:{active:e.stepWriteRequest}},[e.hasPublicBodies?i("a",{attrs:{href:"#step-request"},on:{click:function(t){return t.preventDefault(),e.setStepRequest(t)}}},[i("i",{staticClass:"fa",class:{"fa-check-circle":e.stepWriteRequestDone,"fa-check-circle-o":!e.stepWriteRequestDone},attrs:{"aria-hidden":"true"}}),e._v("\n            "+e._s(e.i18n.makeRequest)+"\n          ")]):i("span",[i("i",{staticClass:"fa",class:{"fa-check-circle":e.stepWriteRequestDone,"fa-check-circle-o":!e.stepWriteRequestDone},attrs:{"aria-hidden":"true"}}),e._v("\n            "+e._s(e.i18n.makeRequest)+"\n          ")])]),e._v(" "),i("li",[e.stepWriteRequest?i("a",{attrs:{href:"#step-review","data-toggle":"modal"}},[i("i",{staticClass:"fa fa-check-circle-o",attrs:{"aria-hidden":"true"}}),e._v("\n            "+e._s(e.i18n.checkRequest)+"\n          ")]):i("span",[i("i",{staticClass:"fa fa-check-circle-o",attrs:{"aria-hidden":"true"}}),e._v("\n            "+e._s(e.i18n.checkRequest)+"\n          ")])])]),e._v(" "),e.showNext?i("div",{staticClass:"pt-2 col-auto ml-auto"},[i("button",{staticClass:"btn btn-secondary",on:{click:function(t){return t.preventDefault(),e.clickNext(t)}}},[e._v("\n              "+e._s(e.i18n.goNextStep)+"\n          ")])]):e._e()])])])},[],!1,null,"dc2d11b2",null).exports),de={name:"request-public",props:{form:{type:Object},hidePublic:{type:Boolean,default:!1}},data:function(){return{public:this.form.fields.public.value||this.form.fields.public.initial}},computed:{publicValue:{get:function(){return this.public},set:function(e){this.public=e,this.$emit("update:initialPublic",e)}}}},fe=Object(d.a)(de,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.hidePublic,expression:"hidePublic"}],attrs:{type:"hidden",name:"hide_public",id:"id_hide_public"},domProps:{value:e.hidePublic},on:{input:function(t){t.target.composing||(e.hidePublic=t.target.value)}}}),e._v(" "),e.hidePublic?i("div",{staticStyle:{display:"none"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.publicValue,expression:"publicValue"}],attrs:{type:"checkbox",name:"public",id:"id_public"},domProps:{checked:Array.isArray(e.publicValue)?e._i(e.publicValue,null)>-1:e.publicValue},on:{change:function(t){var i=e.publicValue,n=t.target,s=!!n.checked;if(Array.isArray(i)){var r=e._i(i,null);n.checked?r<0&&(e.publicValue=i.concat([null])):r>-1&&(e.publicValue=i.slice(0,r).concat(i.slice(r+1)))}else e.publicValue=s}}})]):i("div",{staticClass:"card mb-3"},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"checkbox"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.publicValue,expression:"publicValue"}],attrs:{type:"checkbox",name:"public",id:"id_public"},domProps:{checked:Array.isArray(e.publicValue)?e._i(e.publicValue,null)>-1:e.publicValue},on:{change:function(t){var i=e.publicValue,n=t.target,s=!!n.checked;if(Array.isArray(i)){var r=e._i(i,null);n.checked?r<0&&(e.publicValue=i.concat([null])):r>-1&&(e.publicValue=i.slice(0,r).concat(i.slice(r+1)))}else e.publicValue=s}}}),e._v("\n            "+e._s(e.form.fields.public.label)+"\n          ")]),e._v(" "),i("small",{staticClass:"form-text text-muted"},[e._v("\n            "+e._s(e.form.fields.public.help_text)+"\n          ")])])])])])])},[],!1,null,null,null).exports,he={name:"user-terms",props:{form:{type:Object}},data:function(){return{terms:this.form.fields.terms.value||this.form.fields.terms.initial}},computed:{formFields:function(){return this.form.fields},errors:function(){return this.form?this.form.errors:{}},termsValue:{get:function(){return this.terms},set:function(e){this.terms=e,this.$emit("update:initialTerms",e)}}}},pe=Object(d.a)(he,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"card mb-3"},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"form-group row"},[i("div",{staticClass:"col-lg-9"},[i("div",{staticClass:"form-check"},[i("label",{staticClass:"form-check-label field-required",class:{"text-danger":e.errors.terms}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.termsValue,expression:"termsValue"}],staticClass:"form-check-input",class:{"is-invalid":e.errors.terms},attrs:{type:"checkbox",name:"terms",required:"",id:"id_terms"},domProps:{checked:Array.isArray(e.termsValue)?e._i(e.termsValue,null)>-1:e.termsValue},on:{change:function(t){var i=e.termsValue,n=t.target,s=!!n.checked;if(Array.isArray(i)){var r=e._i(i,null);n.checked?r<0&&(e.termsValue=i.concat([null])):r>-1&&(e.termsValue=i.slice(0,r).concat(i.slice(r+1)))}else e.termsValue=s}}}),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.form.fields.terms.label)}})])])])])])])])])},[],!1,null,null,null).exports;function be(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){ve(e,t,i[t])})}return e}function ve(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var me={name:"request-page",props:{config:{type:Object},publicbodyDefaultSearch:{type:String},publicbodyForm:{type:Object,default:null},publicbodies:{type:Array,default:null},userInfo:{type:Object,default:null},requestForm:{type:Object},userForm:{type:Object},showSimilar:{type:Boolean,default:!1},showDraft:{type:Boolean,default:!1},hidePublicbodyChooser:{type:Boolean,default:!1},hideFullText:{type:Boolean,default:!1},hideEditing:{type:Boolean,default:!1},hidePublic:{type:Boolean,default:!1},multiRequest:{type:Boolean,default:!1}},components:{PublicbodyChooser:h.a,PublicbodyMultiChooser:J,UserRegistration:Q,SimilarRequests:f,ReviewRequest:Z,PbMultiReview:ne,RequestForm:re,RequestFormBreadcrumbs:ue,RequestPublic:fe,UserTerms:pe},mixins:[l.a,G],data:function(){return{fullTextDisabled:!1,editingDisabled:this.hideEditing,fullLetter:!1,showReview:!1}},created:function(){if(this.pbScope="make-request",this.setConfig(this.config),this.initStoreValues(this.formFields,{subject:this.updateSubject,body:this.updateBody,full_text:this.updateFullText,law_type:this.updateLawType}),this.updateLawType(this.formFields.law_type.value||this.formFields.law_type.initial),null!==this.publicbodies){var e=this.publicbodies;this.setPublicBodies({publicBodies:e,scope:this.pbScope}),this.cachePublicBodies(e),this.getLawsForPublicBodies(e)}null!==this.userInfo?(this.setUser(this.userInfo),this.initStoreValues(this.userformFields,{address:this.updateAddress})):this.initStoreValues(this.userformFields,{user_email:this.updateEmail,first_name:this.updateFirstName,last_name:this.updateLastName,address:this.updateAddress,private:this.updatePrivate}),this.originalBody=this.body,this.originalSubject=this.subject},mounted:function(){b.q.SELECT_PUBLICBODY;this.hasPublicBodies&&(this.setStepRequest(),b.q.WRITE_REQUEST)},computed:be({form:function(){return this.requestForm},formFields:function(){return this.form.fields},userformFields:function(){return this.userForm.fields},publicBodySearch:function(){return this.publicBody?this.publicBody.name:this.publicbodyDefaultSearch},publicBodyListView:function(){return this.multiRequest?"multi":"actionList"},subject:{get:function(){return this.$store.state.subject},set:function(e){this.updateSubject(e)}},subjectWasChanged:function(){return this.subject!==this.originalSubject},hasBody:function(){return this.body&&this.body.length>0},bodyWasChanged:function(){return this.body!==this.originalBody},body:{get:function(){return this.$store.state.body},set:function(e){this.updateBody(e)}},multipleLaws:function(){return null===this.defaultLaw},fullText:{get:function(){return this.$store.state.fullText},set:function(e){this.updateFullText(e)}},firstName:{get:function(){return this.$store.state.user.first_name},set:function(e){this.updateFirstName(e)}},lastName:{get:function(){return this.$store.state.user.last_name},set:function(e){this.updateLastName(e)}},email:{get:function(){return this.$store.state.user.email},set:function(e){this.updateEmail(e)}},address:{get:function(){return this.$store.state.user.address},set:function(e){this.updateAddress(e)}},userPrivate:{get:function(){return this.$store.state.user.private},set:function(e){this.updatePrivate(e)}},hasPublicBodies:function(){return this.publicBodies.length>0},publicBody:function(){return this.getPublicBodyByScope(this.pbScope)},publicBodies:function(){return this.getPublicBodiesByScope(this.pbScope)},shouldCheckRequest:function(){return""===this.body||this.bodyWasChanged||""===this.subject||this.subjectWasChanged}},Object(p.c)(["user","getPublicBodyByScope","getPublicBodiesByScope","stepWriteRequest","stepReviewPublicBodies","stepSelectPublicBody","step","lawType","defaultLaw"])),methods:be({initStoreValues:function(e,t){for(var i in t){var n=t[i];void 0!==e[i]&&n(e[i].value||e[i].initial)}}},Object(p.d)((ce={setStepSelectPublicBody:b.o,setStepRequest:b.m,updateSubject:b.z,updateBody:b.s,updateFullText:b.v,setConfig:b.g,setUser:b.p,updateFirstName:b.u,updateLastName:b.w,updateLawType:b.x,setPublicBody:b.i,setPublicBodies:b.h,cachePublicBodies:b.c},ve(ce,"updateFirstName",b.u),ve(ce,"updateLastName",b.w),ve(ce,"updateAddress",b.r),ve(ce,"updateEmail",b.t),ve(ce,"updatePrivate",b.y),ce)),Object(p.b)(["getLawsForPublicBodies"])),watch:{step:function(e,t){window.scrollTo(0,0)}}},ge=(i(69),Object(d.a)(me,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"make-request-container"},[i("request-form-breadcrumbs",{attrs:{i18n:e.i18n,multiRequest:e.multiRequest,hasPublicBodies:e.hasPublicBodies,hidePublicbodyChooser:e.hidePublicbodyChooser}}),e._v(" "),i("div",{class:{container:!e.multiRequest,"container-multi":e.multiRequest}},[e._t("messages"),e._v(" "),i("div",{staticClass:"row justify-content-lg-center"},[i("div",{staticClass:"col-lg-12"},[e.stepSelectPublicBody?i("fieldset",{staticClass:"mt-5",attrs:{id:"step-publicbody"}},[e.multiRequest?i("div",[i("publicbody-multi-chooser",{attrs:{name:"publicbody",defaultsearch:e.publicBodySearch,scope:e.pbScope,config:e.config}},[i("template",{slot:"publicbody-missing"},[e._t("publicbody-missing")],2)],2)],1):i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-7"},[e._t("publicbody-legend-title"),e._v(" "),e._t("publicbody-help-text")],2)]),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-8"},[i("publicbody-chooser",{attrs:{name:"publicbody",defaultsearch:e.publicBodySearch,scope:e.pbScope,config:e.config,"list-view":e.publicBodyListView}})],1),e._v(" "),i("div",{staticClass:"col-lg-4 small"},[e._t("publicbody-missing")],2)])])]):e._e(),e._v(" "),e.stepReviewPublicBodies&&!e.stepWriteRequest?i("fieldset",{staticClass:"mt-5",attrs:{id:"step-review-publicbody"}},[i("pb-multi-review",{attrs:{name:"publicbody",i18n:e.i18n,scope:e.pbScope}})],1):e._e(),e._v(" "),e.stepWriteRequest?i("fieldset",{staticClass:"mt-3",attrs:{id:"step-request"}},[i("request-form",{attrs:{config:e.config,publicbodies:e.publicBodies,user:e.user.id?e.user:null,"request-form":e.requestForm,"user-form":e.userForm,"hide-publicbody-chooser":e.hidePublicbodyChooser,"hide-full-text":e.hideFullText,"hide-editing":e.hideEditing,"multi-request":e.multiRequest,"default-law":e.defaultLaw,"law-type":e.lawType,"initial-subject":e.subject,"initial-body":e.body,"initial-full-text":e.fullText,"initial-first-name":e.firstName,"initial-last-name":e.lastName},on:{"update:initialSubject":function(t){e.subject=t},"update:initial-subject":function(t){e.subject=t},"update:initialBody":function(t){e.body=t},"update:initial-body":function(t){e.body=t},"update:initialFullText":function(t){e.fullText=t},"update:initial-full-text":function(t){e.fullText=t},"update:initialFirstName":function(t){e.firstName=t},"update:initial-first-name":function(t){e.firstName=t},"update:initialLastName":function(t){e.lastName=t},"update:initial-last-name":function(t){e.lastName=t},setStepSelectPublicBody:e.setStepSelectPublicBody}},[i("template",{slot:"request-hints"},[e._t("request-hints")],2),e._v(" "),i("template",{slot:"request-legend-title"},[e._t("request-legend-title")],2)],2),e._v(" "),i("user-registration",{attrs:{form:e.userForm,config:e.config,user:e.user.id?e.user:null,"default-law":e.defaultLaw,"initial-email":e.email,"initial-address":e.address,"initial-private":e.userPrivate},on:{"update:initialEmail":function(t){e.email=t},"update:initial-email":function(t){e.email=t},"update:initialAddress":function(t){e.address=t},"update:initial-address":function(t){e.address=t},"update:initialPrivate":function(t){e.userPrivate=t},"update:initial-private":function(t){e.userPrivate=t}}}),e._v(" "),i("request-public",{attrs:{form:e.requestForm,"hide-public":e.hidePublic}}),e._v(" "),e.user.id?e._e():i("user-terms",{attrs:{form:e.userForm}})],1):e._e(),e._v(" "),e.showSimilar&&e.stepWriteRequest?i("similar-requests",{attrs:{publicbodies:e.publicBodies,subject:e.subject,config:e.config}}):e._e(),e._v(" "),e.stepWriteRequest&&e.showReview?i("review-request",{attrs:{i18n:e.i18n,publicbodies:e.publicBodies,user:e.user,defaultLaw:e.defaultLaw,subject:e.subject,body:e.body,fullText:e.fullText},on:{close:function(t){e.showReview=!1}}}):e._e(),e._v(" "),e.stepWriteRequest&&e.shouldCheckRequest?i("button",{staticClass:"btn btn-primary mt-3",attrs:{type:"button",id:"review-button"},on:{click:function(t){e.showReview=!0}}},[i("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}}),e._v("\n          "+e._s(e.i18n.reviewRequest)+"\n        ")]):e.stepWriteRequest?i("button",{staticClass:"btn btn-primary mt-3",attrs:{type:"submit",id:"send-request-button"}},[i("i",{staticClass:"fa fa-send",attrs:{"aria-hidden":"true"}}),e._v("\n          "+e._s(e.i18n.submitRequest)+"\n        ")]):e._e(),e._v(" "),e.stepWriteRequest&&e.user.id&&e.showDraft?i("button",{staticClass:"btn btn-secondary mt-3",attrs:{type:"submit",name:"save_draft",value:"true"}},[i("i",{staticClass:"fa fa-save",attrs:{"aria-hidden":"true"}}),e._v("\n          "+e._s(e.i18n.saveAsDraft)+"\n        ")]):e._e()],1)])],2)],1)},[],!1,null,"fa5201c2",null).exports);function ye(e){new n.a({store:s.a,components:{RequestPage:ge},render:Object(r.a)(e,ge)}).$mount(e)}n.a.config.productionTip=!1,document.addEventListener("DOMContentLoaded",function(){ye("#make-request")});t.default={createRequestPage:ye}}])});
//# sourceMappingURL=makerequest.js.map